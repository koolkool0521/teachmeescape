<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shadow School: 악몽의 교실</title>
    <style>
        body { margin: 0; overflow: hidden; background-color: #000; font-family: 'Courier New', Courier, monospace; user-select: none; }
        
        #ui-layer { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 10; }
        
        #crosshair {
            position: absolute; top: 50%; left: 50%;
            width: 8px; height: 8px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            box-shadow: 0 0 4px white;
        }

        #hud {
            position: absolute; top: 20px; left: 20px;
            color: #ff3333; font-size: 1.5rem; font-weight: bold;
            text-shadow: 2px 2px 0 #000;
        }
        #timer-box {
            position: absolute; top: 20px; right: 20px;
            color: #fff; font-size: 2rem; font-weight: bold;
            text-shadow: 0 0 10px red;
        }

        #interact-msg {
            position: absolute; top: 60%; left: 50%; transform: translate(-50%, -50%);
            color: #fff; font-size: 1.2rem; display: none; text-shadow: 1px 1px 2px black;
        }

        #quiz-modal {
            display: none; position: absolute; top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(20, 10, 5, 0.95);
            border: 4px solid #3e2723;
            padding: 20px; width: 700px;
            color: #d7ccc8; pointer-events: auto;
            text-align: center;
            box-shadow: 0 0 50px rgba(0, 0, 0, 0.8);
        }
        #quiz-modal h2 { margin-top: 0; color: #ff5555; border-bottom: 1px solid #5d4037; padding-bottom: 10px; }
        .quiz-btn {
            display: block; width: 100%; padding: 10px; margin: 5px 0;
            background: #3e2723; color: #d7ccc8; border: 1px solid #5d4037;
            cursor: pointer; text-align: left; font-weight: bold; font-size: 1.1rem;
        }
        .quiz-btn:hover { background: #5d4037; color: #fff; }

        #start-screen {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: #050505; color: #a00;
            display: flex; flex-direction: column;
            justify-content: center; align-items: center;
            z-index: 100; pointer-events: auto;
            background-image: repeating-linear-gradient(0deg, transparent, transparent 1px, #110000 1px, #110000 2px);
        }
        h1 { font-size: 4rem; text-shadow: 0 0 20px red; margin-bottom: 10px; font-weight: 900; }
        
        .select-group { margin: 15px 0; display: flex; gap: 10px; }
        select {
            padding: 10px; font-size: 1.2rem; background: #200; color: #f00; border: 1px solid #f00;
            font-family: inherit; font-weight: bold;
        }

        .btn-start {
            padding: 15px 40px; font-size: 2rem;
            background: #200; color: #f00; border: 2px solid #f00;
            cursor: pointer; margin-top: 20px;
            font-family: 'Courier New', Courier, monospace;
            font-weight: bold;
        }
        .btn-start:hover { background: #500; color: #fff; box-shadow: 0 0 20px red; }

        #gameover-screen {
            display: none; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(20, 0, 0, 0.95); z-index: 200; pointer-events: auto;
            flex-direction: column; justify-content: center; align-items: center;
            color: white; text-align: center;
        }
        #gameover-msg { font-size: 5rem; color: red; font-family: 'Chiller', serif; text-shadow: 0 0 30px black; }
        
        .btn-group { display: flex; gap: 20px; margin-top: 30px; }
        .btn-retry { padding: 15px 30px; font-size: 1.5rem; background: #004400; color: #0f0; border: 2px solid #0f0; cursor: pointer; }
        .btn-giveup { padding: 15px 30px; font-size: 1.5rem; background: #440000; color: #f00; border: 2px solid #f00; cursor: pointer; }
        .btn-retry:hover { background: #006600; color: #fff; }
        .btn-giveup:hover { background: #660000; color: #fff; }

        .vignette {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle, transparent 40%, black 140%);
            pointer-events: none;
        }
    </style>
</head>
<body>

    <div id="ui-layer">
        <div class="vignette"></div>
        <div id="crosshair"></div>
        <div id="hud">
            교실: <span id="room-name">대기실</span><br>
            힌트: <span id="hint-count">0</span> / 10
        </div>
        <div id="timer-box">05:00</div>
        <div id="interact-msg">[클릭] 조사하기</div>
    </div>

    <div id="quiz-modal">
        <h2 id="quiz-subject">문제</h2>
        <p id="quiz-text" style="font-size:1.3rem; margin-bottom:20px; line-height: 1.4;"></p>
        <div id="quiz-options"></div>
        <p style="color:#a1887f; font-size:0.8rem; margin-top:10px;">⚠️ 문제를 푸는 동안에도 '그것'은 다가옵니다...</p>
    </div>

    <div id="start-screen">
        <h1>SHADOW SCHOOL</h1>
        <p style="color:#ccc; font-size:1.2rem;">학교의 악몽에서 탈출하라</p>
        
        <div class="select-group">
            <select id="grade-select">
                <option value="3">초등 3학년</option>
                <option value="4">초등 4학년</option>
                <option value="5">초등 5학년</option>
                <option value="6" selected>초등 6학년</option>
            </select>
            <select id="semester-select">
                <option value="1">1학기</option>
                <option value="2" selected>2학기</option>
            </select>
        </div>

        <p>각 교실에서 <b>10개의 힌트</b>를 모아야 합니다.</p>
        <p style="color:red; font-weight:bold;">검은 형체의 '붉은 가시'를 조심하세요.</p>
        <button class="btn-start" id="btn-init">게임 시작</button>
    </div>

    <div id="gameover-screen">
        <div id="gameover-msg">GAME OVER</div>
        <p id="death-reason" style="font-size:1.5rem;">...</p>
        <div class="btn-group">
            <button class="btn-retry" onclick="restartGame(false)">다시 시도</button>
            <button class="btn-giveup" onclick="restartGame(true)">포기하기 (지옥)</button>
        </div>
    </div>

    <!-- Import Maps -->
    <script type="importmap">
        {
            "imports": {
                "three": "https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js",
                "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/",
                "cannon-es": "https://unpkg.com/cannon-es@0.20.0/dist/cannon-es.js"
            }
        }
    </script>

    <script type="module">
        import * as THREE from 'three';
        import { PointerLockControls } from 'three/addons/controls/PointerLockControls.js';
        import * as CANNON from 'cannon-es';

        // --------------------------------------------------------------------------------------
        // [사용자 안내] 아래의 '텍스처 생성기'부터 'generateProblemBank 함수 끝'까지의 내용을
        // question_bank_generator.js 파일의 내용으로 '전체 덮어쓰기' 하세요.
        // 현재는 예시 데이터 1개씩만 들어있습니다.
        // --------------------------------------------------------------------------------------

        // --- 텍스처 생성기 ---
        function createWoodTexture(isDark = false) {
            const canvas = document.createElement('canvas');
            canvas.width = 512; canvas.height = 512;
            const ctx = canvas.getContext('2d');
            ctx.fillStyle = isDark ? '#3e2723' : '#5d4037';
            ctx.fillRect(0, 0, 512, 512);
            for (let i = 0; i < 2000; i++) {
                ctx.fillStyle = isDark ? 'rgba(0,0,0,0.1)' : 'rgba(0,0,0,0.05)';
                ctx.fillRect(Math.random() * 512, 0, Math.random() * 2 + 1, 512);
            }
            if (isDark) { 
                for(let i=0; i<500; i++) {
                    ctx.fillStyle = 'rgba(20, 20, 20, 0.3)';
                    const x = Math.random() * 512; const y = Math.random() * 512;
                    ctx.beginPath(); ctx.arc(x, y, Math.random() * 5, 0, Math.PI*2); ctx.fill();
                }
            }
            const texture = new THREE.CanvasTexture(canvas);
            texture.wrapS = THREE.RepeatWrapping; texture.wrapT = THREE.RepeatWrapping;
            return texture;
        }
        const woodTexture = createWoodTexture(false);
        const ceilingTexture = createWoodTexture(true);

        // ★ [데이터 삽입 위치] 이 staticDB를 question_bank_generator.js의 내용으로 교체하세요. ★
        const staticDB = {
     // ================= [수학] (각 20문제) =================
    "3-1-수학": [
        ["482 + 359의 계산 결과는?", ["841", "741", "831", "941"], 0],
        ["735 - 268의 계산 결과는?", ["467", "567", "477", "533"], 0],
        ["직각삼각형에 대한 설명으로 옳은 것은?", ["네 변이 있다", "모든 각이 둔각이다", "한 각이 직각이다", "세 변의 길이가 같다"], 2],
        ["나눗셈식 19 ÷ 5 = 3 ... 4 에서 나머지는?", ["19", "5", "3", "4"], 3],
        ["1분은 몇 초인가?", ["100초", "60초", "30초", "50초"], 1],
        ["길이의 단위 중 가장 큰 것은?", ["km", "m", "cm", "mm"], 0],
        ["3cm 5mm는 몇 mm인가?", ["350mm", "305mm", "35mm", "53mm"], 2],
        ["시각 읽기: 2시 50분에서 20분 후는?", ["3시 10분", "3시", "2시 70분", "3시 20분"], 0],
        ["8 × 7의 값은?", ["54", "56", "63", "49"], 1],
        ["정사각형의 특징으로 알맞은 것은?", ["네 각이 모두 직각이고 네 변의 길이가 같다", "마주 보는 변의 길이만 같다", "각의 크기가 모두 다르다", "변의 길이가 모두 다르다"], 0],
        ["직각은 몇 도인가?", ["100도", "45도", "90도", "180도"], 2],
        ["똑같이 나누어 주는 계산은 무엇인가?", ["덧셈", "뺄셈", "곱셈", "나눗셈"], 3],
        ["504 + 297의 어림셈 결과로 가장 가까운 것은?", ["700", "800", "900", "600"], 1],
        ["선분 ㄱㄴ과 선분 ㄴㄱ은 같은가?", ["같다", "다르다", "알 수 없다", "반대다"], 0],
        ["도형을 밀었을 때 변하는 것은?", ["모양", "크기", "위치", "색깔"], 2],
        ["34 × 2의 값은?", ["64", "68", "72", "60"], 1],
        ["나머지가 있는 나눗셈에서 나머지는 나누는 수보다?", ["작아야 한다", "커야 한다", "같아야 한다", "상관없다"], 0],
        ["1시간 30분은 몇 분인가?", ["90분", "130분", "100분", "80분"], 0],
        ["반직선 ㄱㄴ의 시작점은?", ["점 ㄱ", "점 ㄴ", "중간점", "없다"], 0],
        ["다음 중 평면도형이 아닌 것은?", ["삼각형", "원", "직육면체", "사각형"], 2]
    ],
    "3-2-수학": [
        ["원의 중심에서 원 위의 한 점을 이은 선분은?", ["지름", "원주", "반지름", "현"], 2],
        ["지름이 10cm인 원의 반지름은?", ["10cm", "20cm", "5cm", "15cm"], 2],
        ["분모가 같은 진분수의 덧셈 방법은?", ["분모끼리 더한다", "분자끼리 더한다", "분모와 분자를 모두 더한다", "뺄셈을 한다"], 1],
        ["대분수 1과 2/5를 가분수로 나타내면?", ["6/5", "7/5", "8/5", "3/5"], 1],
        ["들이의 단위가 아닌 것은?", ["L", "mL", "kg", "모두 맞음"], 2],
        ["1L는 몇 mL인가?", ["100mL", "1000mL", "10mL", "10000mL"], 1],
        ["무게의 단위 1kg은 몇 g인가?", ["100g", "1000g", "10g", "500g"], 1],
        ["23 × 40의 값은?", ["920", "820", "900", "800"], 0],
        ["84 ÷ 4의 몫은?", ["20", "22", "21", "24"], 2],
        ["나머지가 없는 나눗셈을 무엇이라 하는가?", ["나누어 떨어진다", "나머지 셈", "곱셈", "몫 셈"], 0],
        ["원 안의 가장 긴 선분은?", ["반지름", "지름", "원주", "중심"], 1],
        ["컴퍼스는 무엇을 그릴 때 사용하는가?", ["삼각형", "사각형", "원", "직선"], 2],
        ["분자보다 분모가 작거나 같은 분수는?", ["진분수", "가분수", "대분수", "소수"], 1],
        ["자연수와 진분수로 이루어진 분수는?", ["가분수", "대분수", "단위분수", "소수"], 1],
        ["들이를 어림할 때 쓰는 단위는?", ["약", "쯤", "정도", "모두 정답"], 3],
        ["3kg 500g + 1kg 200g 은?", ["4kg 300g", "4kg 700g", "2kg 300g", "5kg"], 1],
        ["곱셈식 45 × 12 에서 45 × 2의 값은?", ["90", "450", "540", "45"], 0],
        ["원의 중심은 원 안에 몇 개 있는가?", ["1개", "2개", "무수히 많다", "없다"], 0],
        ["그림그래프의 특징은?", ["정확한 수치를 알기 어렵다", "많고 적음을 쉽게 알 수 있다", "그리기 어렵다", "복잡하다"], 1],
        ["자료를 표로 나타내면 좋은 점은?", ["수량을 한눈에 알아보기 쉽다", "변화를 알기 쉽다", "비율을 알기 쉽다", "모양을 알기 쉽다"], 0]
    ],
    "4-1-수학": [
        ["1000이 10개인 수는?", ["1000", "10000(만)", "100000", "100"], 1],
        ["다섯 자리 수 '35672'에서 '3'이 나타내는 값은?", ["300", "3000", "30000", "3"], 2],
        ["각도기로 각을 잴 때 기준은?", ["각도기의 윗부분", "각도기의 중심과 밑금", "눈대중", "자"], 1],
        ["직각보다 작고 0도보다 큰 각은?", ["예각", "둔각", "평각", "직각"], 0],
        ["둔각삼각형의 설명으로 옳은 것은?", ["세 각이 모두 예각이다", "한 각이 둔각이다", "한 각이 직각이다", "세 변이 같다"], 1],
        ["삼각형의 세 각의 합은?", ["180도", "360도", "90도", "270도"], 0],
        ["사각형의 네 각의 합은?", ["180도", "360도", "90도", "720도"], 1],
        ["곱셈식 245 × 36의 계산 순서는?", ["30과 곱하고 6과 곱해 더한다", "그냥 더한다", "빼서 곱한다", "나눈다"], 0],
        ["나눗셈 784 ÷ 24의 몫을 어림할 때 좋은 수는?", ["20", "30", "40", "50"], 1],
        ["평면도형을 오른쪽으로 뒤집으면?", ["모양이 바뀐다", "왼쪽 오른쪽이 바뀐다", "위아래가 바뀐다", "그대로다"], 1],
        ["시계방향으로 90도 돌리기와 같은 것은?", ["시계 반대 방향으로 270도 돌리기", "시계 반대 방향으로 90도 돌리기", "180도 돌리기", "360도 돌리기"], 0],
        ["규칙 찾기: 3, 6, 9, 12, (?)", ["13", "14", "15", "16"], 2],
        ["막대그래프에서 세로 눈금 한 칸의 크기는?", ["항상 1이다", "자료의 크기에 따라 정한다", "항상 10이다", "마음대로 정한다"], 1],
        ["조, 억, 만 단위는 몇 자리씩 끊어 읽는가?", ["3자리", "4자리", "5자리", "2자리"], 1],
        ["각도의 합과 차를 구할 때 주의할 점은?", ["자연수의 덧셈 뺄셈과 같다", "60진법을 쓴다", "뺄셈은 불가능하다", "합은 180도를 넘을 수 없다"], 0],
        ["이등변삼각형은 정삼각형인가?", ["항상 그렇다", "아닐 수도 있다", "절대 아니다", "모른다"], 1],
        ["정삼각형의 한 내각의 크기는?", ["45도", "60도", "90도", "30도"], 1],
        ["세 자리 수 나누기 두 자리 수의 몫은?", ["항상 한 자리 수", "항상 두 자리 수", "한 자리 또는 두 자리 수", "세 자리 수"], 2],
        ["규칙적인 계산식: 1×1=1, 11×11=121, 111×111=?", ["1221", "12321", "11111", "12345"], 1],
        ["막대그래프의 장점은?", ["수량의 많고 적음을 비교하기 쉽다", "전체에 대한 비율을 알기 쉽다", "변화를 알기 쉽다", "정확하지 않다"], 0]
    ],
    "4-2-수학": [
        ["진분수의 덧셈 결과가 가분수이면?", ["그대로 둔다", "대분수로 고친다", "버린다", "0으로 쓴다"], 1],
        ["대분수의 뺄셈 방법은?", ["자연수는 자연수끼리, 분수는 분수끼리", "분모끼리 뺀다", "분자끼리 곱한다", "자연수만 뺀다"], 0],
        ["정삼각형의 성질이 아닌 것은?", ["세 변의 길이가 같다", "세 각의 크기가 60도다", "이등변삼각형이다", "한 각이 직각이다"], 3],
        ["두 변의 길이가 같은 삼각형은?", ["직각삼각형", "둔각삼각형", "이등변삼각형", "부등변삼각형"], 2],
        ["소수 두 자리 수의 덧셈에서 중요한 것은?", ["자릿수(소수점) 맞추기", "뒤에서부터 채우기", "소수점 무시하기", "길이 맞추기"], 0],
        ["0.5 + 0.03 은?", ["0.08", "0.53", "0.35", "0.8"], 1],
        ["마주 보는 두 쌍의 변이 서로 평행한 사각형은?", ["사다리꼴", "평행사변형", "연꼴", "삼각형"], 1],
        ["네 변의 길이가 모두 같은 사각형은?", ["직사각형", "마름모", "사다리꼴", "평행사변형"], 1],
        ["직사각형과 정사각형의 공통점은?", ["네 각이 모두 직각이다", "네 변의 길이가 같다", "대각선이 수직이다", "모두 예각이다"], 0],
        ["꺾은선그래프에서 변화가 심한 구간은?", ["선이 수평인 곳", "선이 가파르게 기울어진 곳", "선이 완만한 곳", "선이 끊긴 곳"], 1],
        ["꺾은선그래프의 물결선의 역할은?", ["모양을 예쁘게 한다", "필요 없는 구간을 줄여 변화를 잘 보여준다", "그래프를 크게 만든다", "종이를 아낀다"], 1],
        ["다각형이란?", ["선분으로만 둘러싸인 도형", "곡선이 있는 도형", "열린 도형", "입체 도형"], 0],
        ["대각선의 개수가 가장 많은 것은?", ["삼각형", "사각형", "오각형", "육각형"], 3],
        ["소수 뺄셈: 1 - 0.3 은?", ["0.7", "1.3", "0.3", "0.07"], 0],
        ["평행선 사이의 거리는?", ["어디서 재도 같다", "다 다르다", "점점 멀어진다", "점점 가까워진다"], 0],
        ["사다리꼴의 정의는?", ["평행한 변이 한 쌍이라도 있는 사각형", "두 쌍이 평행한 사각형", "네 변이 같은 사각형", "각이 같은 사각형"], 0],
        ["삼각형의 세 변의 길이 관계?", ["가장 긴 변은 나머지 두 변의 합보다 작아야 한다", "커야 한다", "같아야 한다", "상관없다"], 0],
        ["육각형의 대각선 총 개수는?", ["5개", "9개", "14개", "20개"], 1],
        ["자료의 값을 점으로 찍고 선분으로 이은 그래프는?", ["막대그래프", "꺾은선그래프", "그림그래프", "원그래프"], 1],
        ["소수점 아래 0을 생략할 수 있는 경우는?", ["소수점 맨 끝자리", "소수점 바로 뒤", "자연수 부분", "중간"], 0]
    ],
    "5-1-수학": [
        ["약수와 배수의 관계는?", ["곱셈과 나눗셈 관계", "덧셈 관계", "뺄셈 관계", "상관없다"], 0],
        ["약수가 1과 자신뿐인 수는?", ["합성수", "소수", "짝수", "홀수"], 1],
        ["12와 18의 최대공약수는?", ["3", "4", "6", "12"], 2],
        ["두 수의 공배수는 무엇의 배수인가?", ["최대공약수", "최소공배수", "두 수의 합", "두 수의 차"], 1],
        ["약분한다는 것은?", ["분모와 분자를 0으로 만드는 것", "분모와 분자를 공약수로 나누는 것", "분모와 분자에 같은 수를 곱하는 것", "역수로 만드는 것"], 1],
        ["기약분수란?", ["더 이상 약분되지 않는 분수", "분모가 10인 분수", "분자가 1인 분수", "가분수"], 0],
        ["통분할 때 공통분모로 알맞은 것은?", ["두 분모의 최소공배수", "두 분모의 합", "두 분모의 차", "두 분모의 최대공약수"], 0],
        ["분모가 다른 분수의 덧셈 순서는?", ["약분 -> 덧셈", "통분 -> 덧셈", "그냥 덧셈", "분자끼리 덧셈"], 1],
        ["다각형의 둘레를 구하는 방법은?", ["가로 곱하기 세로", "모든 변의 길이를 더한다", "대각선을 잰다", "한 변만 잰다"], 1],
        ["직사각형의 넓이 공식은?", ["가로 + 세로", "가로 × 세로", "(가로 + 세로) × 2", "가로 ÷ 세로"], 1],
        ["평행사변형의 넓이는?", ["밑변 × 높이", "밑변 × 높이 ÷ 2", "한 변 × 한 변", "윗변 + 아랫변"], 0],
        ["삼각형의 넓이는?", ["밑변 × 높이", "밑변 × 높이 ÷ 2", "밑변 + 높이", "밑변 × 다른 변"], 1],
        ["마름모의 넓이는?", ["한 대각선 × 다른 대각선", "한 대각선 × 다른 대각선 ÷ 2", "한 변 × 한 변", "밑변 × 높이"], 1],
        ["사다리꼴의 넓이 공식은?", ["(윗변+아랫변) × 높이 ÷ 2", "윗변 × 아랫변 × 높이", "윗변 + 아랫변 + 높이", "밑변 × 높이"], 0],
        ["1제곱미터는 몇 제곱센티미터인가?", ["100", "1000", "10000", "100000"], 2],
        ["대응 관계를 식으로 나타낼 때 사용하는 것은?", ["기호(□, △ 등)나 문자", "그림", "색깔", "소리"], 0],
        ["가장 작은 소수는?", ["1", "2", "3", "0"], 1],
        ["모든 자연수의 약수는?", ["0", "1", "2", "자기 자신"], 1],
        ["최대공약수가 1인 두 수의 관계는?", ["서로소", "배수 관계", "약수 관계", "짝수 관계"], 0],
        ["2/3 와 4/6 는 같은 분수인가?", ["같다", "다르다", "알 수 없다", "반대다"], 0]
    ],
    "5-2-수학": [
        ["어떤 수와 같거나 큰 수는?", ["초과", "미만", "이상", "이하"], 2],
        ["어떤 수보다 작은 수는?", ["초과", "미만", "이상", "이하"], 1],
        ["버림하여 십의 자리까지 나타내기: 125 -> ?", ["130", "120", "100", "125"], 1],
        ["반올림: 5 이상이면?", ["버린다", "올린다", "그대로 둔다", "지운다"], 1],
        ["분수의 곱셈: (진분수) × (자연수) 계산법?", ["분모는 그대로, 분자와 자연수를 곱함", "분모와 자연수를 곱함", "통분하여 계산", "역수를 곱함"], 0],
        ["대분수의 곱셈 방법?", ["가분수로 고쳐서 계산", "대분수 그대로 계산", "자연수는 버리고 계산", "분모끼리만 계산"], 0],
        ["합동인 도형의 성질은?", ["모양이 같고 크기는 다르다", "크기는 같고 모양은 다르다", "모양과 크기가 모두 같다", "넓이만 같다"], 2],
        ["대응변이란?", ["서로 포개지는 변", "마주 보는 변", "이웃하는 변", "가장 긴 변"], 0],
        ["선대칭도형의 대칭축은?", ["하나뿐이다", "없다", "하나 이상일 수 있다", "무수히 많다"], 2],
        ["점대칭도형의 회전 각도는?", ["90도", "180도", "270도", "360도"], 1],
        ["직육면체의 면의 개수는?", ["4개", "6개", "8개", "12개"], 1],
        ["정육면체의 모서리 개수는?", ["8개", "10개", "12개", "6개"], 2],
        ["직육면체의 겨냥도에서 보이지 않는 선은?", ["실선", "점선", "물결선", "직선"], 1],
        ["정육면체의 전개도는 몇 가지인가?", ["1가지", "6가지", "11가지", "무수히 많다"], 2],
        ["평균을 구하는 식은?", ["자료의 합 ÷ 자료의 수", "자료의 합 × 자료의 수", "가장 큰 값 - 가장 작은 값", "자료 중 한가운데 값"], 0],
        ["일이 일어날 가능성이 '반반이다'를 수로 표현하면?", ["0", "1", "1/2", "100"], 2],
        ["확실하게 일어날 가능성은 수로?", ["0", "0.5", "1", "10"], 2],
        ["세 변의 길이가 3, 4, 5인 삼각형과 합동인 삼각형을 그리려면?", ["각도기만 필요하다", "컴퍼스와 자가 필요하다", "눈금 없는 자만 필요하다", "그릴 수 없다"], 1],
        ["점대칭도형의 대칭의 중심은 몇 개인가?", ["1개", "2개", "3개", "없다"], 0],
        ["직육면체의 밑면은 몇 쌍인가?", ["1쌍", "2쌍", "3쌍", "4쌍"], 2]
    ],
    "6-1-수학": [
        ["(자연수) ÷ (자연수)의 몫을 분수로 나타내면?", ["(나누는 수)/(나누어지는 수)", "(나누어지는 수)/(나누는 수)", "항상 자연수", "항상 가분수"], 1],
        ["(분수) ÷ (자연수) 계산법?", ["분자의 곱으로 바꾼다", "나눗셈을 곱셈으로 바꾸고 자연수의 역수를 곱한다", "분모를 나눈다", "그대로 둔다"], 1],
        ["각기둥의 이름은 무엇으로 정하나?", ["옆면의 모양", "높이", "밑면의 모양", "모서리의 수"], 2],
        ["각뿔의 옆면 모양은 항상?", ["사각형", "삼각형", "원", "오각형"], 1],
        ["각기둥의 꼭짓점 수(n각기둥)?", ["n개", "2n개", "3n개", "n+2개"], 1],
        ["소수 나눗셈에서 자릿수가 모자랄 때?", ["그대로 둔다", "0을 내려 계산한다", "계산을 멈춘다", "나머지로 쓴다"], 1],
        ["비 3 : 4 에서 기준량은?", ["3", "4", "7", "1"], 1],
        ["비율을 구하는 식은?", ["비교하는 양 ÷ 기준량", "기준량 ÷ 비교하는 양", "기준량 + 비교하는 양", "비교하는 양 × 기준량"], 0],
        ["백분율이란?", ["기준량을 10으로 할 때의 비율", "기준량을 100으로 할 때의 비율", "기준량을 1000으로 할 때의 비율", "전체 양"], 1],
        ["비율 0.75를 백분율로 나타내면?", ["7.5%", "75%", "0.75%", "750%"], 1],
        ["전체에 대한 각 부분의 비율을 원 모양에 나타낸 그래프?", ["막대그래프", "꺾은선그래프", "띠그래프", "원그래프"], 3],
        ["띠그래프의 특징은?", ["변화를 알기 쉽다", "전체에 대한 각 부분의 비율을 한눈에 알 수 있다", "수량이 정확하다", "그리기 어렵다"], 1],
        ["직육면체의 부피 구하는 공식?", ["가로 + 세로 + 높이", "가로 × 세로 × 높이", "밑면의 넓이 + 높이", "한 모서리 × 3"], 1],
        ["1세제곱미터는 몇 세제곱센티미터?", ["10000", "100000", "1000000", "100"], 2],
        ["직육면체의 겉넓이 구하는 방법?", ["여섯 면의 넓이의 합", "세 면의 넓이 × 2", "밑면의 넓이 × 높이", "부피 × 2"], 0],
        ["원주율이란?", ["원주 ÷ 지름", "지름 ÷ 원주", "반지름 × 3", "원의 넓이"], 0],
        ["원주율은 약 얼마인가?", ["3.14", "3", "3.141592...", "모두 맞음"], 3],
        ["원의 넓이 구하는 공식?", ["지름 × 원주율", "반지름 × 반지름 × 원주율", "원주 × 2", "반지름 × 2 × 원주율"], 1],
        ["각뿔의 모서리 수(n각뿔)?", ["n개", "2n개", "3n개", "n+1개"], 1],
        ["비율이 같은 두 비를 등호로 연결한 식은?", ["비례식", "방정식", "부등식", "다항식"], 0]
    ],
    "6-2-수학": [
        ["분수의 나눗셈: (분수)÷(분수) 계산법?", ["통분하여 분자끼리 나누거나, 곱셈으로 고쳐서 계산", "분모끼리 나눈다", "분자끼리 더한다", "뺄셈으로 계산"], 0],
        ["소수의 나눗셈에서 몫의 소수점 위치는?", ["나누어지는 수의 옮긴 소수점 위치와 같다", "항상 맨 뒤다", "항상 맨 앞이다", "나누는 수와 같다"], 0],
        ["공간에서 쌓기나무의 개수를 정확히 알 수 있는 방법?", ["위에서 본 모양에 수 쓰기", "앞에서만 보기", "옆에서만 보기", "사진 찍기"], 0],
        ["비례식의 성질?", ["전항과 후항의 합이 같다", "외항의 곱과 내항의 곱이 같다", "전항과 내항의 곱이 같다", "후항과 외항의 합이 같다"], 1],
        ["비례배분이란?", ["전체를 똑같이 나누는 것", "전체를 주어진 비로 배분하는 것", "남는 것을 가지는 것", "랜덤으로 나누는 것"], 1],
        ["원의 넓이: 반지름이 2배가 되면 넓이는?", ["2배", "3배", "4배", "변함없다"], 2],
        ["원기둥의 밑면의 모양은?", ["사각형", "삼각형", "원", "부채꼴"], 2],
        ["원기둥의 전개도에서 옆면의 가로 길이는?", ["원기둥의 높이", "밑면의 지름", "밑면의 원주", "밑면의 반지름"], 2],
        ["원뿔의 뾰족한 점을 무엇이라 하는가?", ["꼭짓점", "원뿔의 꼭짓점", "모선", "중심"], 1],
        ["구의 특징은?", ["어느 방향에서 보아도 원 모양이다", "밑면이 1개다", "전개도를 그릴 수 있다", "뾰족하다"], 0],
        ["원기둥의 부피 구하는 식?", ["한 밑면의 넓이 × 높이", "반지름 × 원주율", "겉넓이 × 높이", "밑면의 둘레 × 높이"], 0],
        ["원기둥의 겉넓이는?", ["한 밑면의 넓이 × 2 + 옆면의 넓이", "밑면 × 높이", "옆면 × 2", "부피 × 2"], 0],
        ["가능성이 0인 경우는?", ["절대 일어나지 않는다", "반반이다", "확실하다", "아마도 일어난다"], 0],
        ["3 : 4 = 6 : □, 네모 안의 수는?", ["7", "8", "9", "12"], 1],
        ["쌓기나무 층별로 나타낸 모양의 장점?", ["보이지 않는 부분까지 확실히 알 수 있다", "그리기 쉽다", "전체 모양을 알기 어렵다", "색깔을 알 수 있다"], 0],
        ["원주를 구하는 식?", ["지름 × 원주율", "반지름 × 원주율", "지름 + 원주율", "반지름 × 반지름"], 0],
        ["3.6 ÷ 0.6 의 몫은?", ["6", "0.6", "60", "0.06"], 0],
        ["비 5:8의 전항과 후항에 2를 곱하면 비율은?", ["커진다", "작아진다", "변하지 않는다", "알 수 없다"], 2],
        ["가장 간단한 자연수의 비로 나타내기: 0.5 : 1.5", ["1:3", "1:2", "1:5", "5:15"], 0],
        ["원뿔에서 모선의 길이는?", ["모두 같다", "높이와 같다", "다르다", "밑면 지름과 같다"], 0]
    ],

    // ================= [국어] (각 20문제) =================
    "3-1-국어": [
        ["감각적 표현이 아닌 것은?", ["매운 맛", "거친 느낌", "10cm", "향긋한 냄새"], 2],
        ["문단의 중심 문장을 뒷받침하는 문장은?", ["뒷받침 문장", "첫 문장", "제목", "꼬리말"], 0],
        ["글을 읽고 내용을 간추리는 방법?", ["중요한 낱말이나 문장 찾기", "그림만 보기", "제목만 읽기", "모두 외우기"], 0],
        ["높임말 사용 대상?", ["할아버지", "동생", "친구", "강아지"], 0],
        ["국어사전 자음 순서?", ["ㄱ-ㄴ-ㄷ-ㄹ", "ㅎ-ㅍ-ㅌ-ㅋ", "ㅏ-ㅑ-ㅓ-ㅕ", "1-2-3-4"], 0],
        ["이야기의 구성 요소가 아닌 것은?", ["가격", "인물", "사건", "배경"], 0],
        ["회의를 할 때의 바른 태도?", ["손을 들고 말한다", "남의 말을 끊는다", "소리를 지른다", "누워서 듣는다"], 0],
        ["원인과 결과가 드러나게 말하는 방법?", ["~때문에, ~해서", "그리고", "하지만", "또는"], 0],
        ["메모하며 듣기의 좋은 점?", ["중요한 내용을 기억하기 좋다", "팔이 아프다", "종이를 쓴다", "시간이 걸린다"], 0],
        ["반대말 짝이 바른 것은?", ["길다-짧다", "크다-넓다", "덥다-따뜻하다", "가다-달리다"], 0],
        ["꾸며 주는 말이 들어간 문장은?", ["예쁜 꽃이 피었다", "꽃이 피었다", "나비가 날다", "새가 울다"], 0],
        ["편지글의 형식이 아닌 것은?", ["그래프", "받는 사람", "첫인사", "쓴 날짜"], 0],
        ["띄어쓰기를 하는 이유?", ["뜻을 정확하게 전달하기 위해", "종이를 채우려고", "멋있어 보이려고", "어렵게 하려고"], 0],
        ["자신의 의견을 말할 때?", ["까닭을 들어 말한다", "무조건 우긴다", "작게 말한다", "화낸다"], 0],
        ["설명하는 글의 특징?", ["사실을 바탕으로 쓴다", "개인적인 느낌을 쓴다", "재미있는 이야기다", "노래 가사다"], 0],
        ["글씨를 바르게 쓰는 자세?", ["허리를 펴고 바르게 앉는다", "엎드린다", "다리를 꼰다", "눈을 감는다"], 0],
        ["'먹다'의 높임말?", ["드시다", "먹는다", "먹어라", "먹자"], 0],
        ["문장 부호 '?'의 이름?", ["물음표", "느낌표", "마침표", "쉼표"], 0],
        ["시를 읽을 때?", ["장면을 떠올리며 읽는다", "빨리 읽는다", "글자만 읽는다", "소리 지른다"], 0],
        ["이야기 속 인물의 마음 짐작하기?", ["표정이나 행동을 본다", "옷을 본다", "나이를 본다", "키를 본다"], 0]
    ],
    "3-2-국어": [
        ["감동을 느낀 부분을 말하는 방법?", ["이유와 함께 말한다", "그냥 좋다고 한다", "싫다고 한다", "말하지 않는다"], 0],
        ["띄어쓰기 단위?", ["어절", "음절", "자음", "모음"], 0],
        ["중심 문장과 뒷받침 문장의 관계?", ["설명하거나 예를 든다", "반대된다", "상관없다", "똑같다"], 0],
        ["회의 절차?", ["개회-주제 선정-의견 교환-결정", "결정-회의", "폐회-개회", "식사-회의"], 0],
        ["글을 간추리는 방법?", ["각 문단의 중심 문장을 잇는다", "다 쓴다", "제목만 쓴다", "그림을 그린다"], 0],
        ["소개하는 글을 쓸 때?", ["특징이 잘 드러나게 쓴다", "거짓으로 쓴다", "짧게 쓴다", "길게 쓴다"], 0],
        ["전화 예절?", ["자신을 밝히고 용건을 말한다", "장난을 친다", "아무 말 안 한다", "끊어 버린다"], 0],
        ["글의 흐름에 따라 내용 파악?", ["시간, 장소의 변화", "종이 색깔", "글자 크기", "페이지 수"], 0],
        ["마음을 전하는 글?", ["편지", "설명문", "논설문", "기사문"], 0],
        ["높임말: 선생님께 ( )?", ["여쭈어보다", "물어보다", "따지다", "말하다"], 0],
        ["글쓴이의 의견 파악?", ["제목과 중심 내용을 본다", "맨 뒤만 본다", "글씨체를 본다", "그림만 본다"], 0],
        ["이야기 이어 쓰기?", ["앞 내용과 어울리게", "앞 내용 무시", "주인공 변경", "갑자기 끝냄"], 0],
        ["독서 감상문에 들어갈 내용?", ["책을 읽게 된 까닭, 내용, 느낌", "책 가격", "서점 위치", "종이 질"], 0],
        ["문장의 호응 관계?", ["주어와 서술어", "앞말과 뒷말", "높임과 낮춤", "모두 정답"], 3],
        ["사전 찾는 습관의 장점?", ["낱말의 뜻을 정확히 알 수 있다", "시간이 잘 간다", "팔 운동이 된다", "책이 무겁다"], 0],
        ["시의 분위기 살려 읽기?", ["목소리의 크기와 빠르기 조절", "무조건 크게", "무조건 빠르게", "속삭이듯"], 0],
        ["이야기 속 사건의 원인과 결과?", ["인과 관계", "반대 관계", "병렬 관계", "상하 관계"], 0],
        ["글을 고쳐 쓰는 이유?", ["더 좋은 글을 만들기 위해", "종이가 남아서", "심심해서", "숙제라서"], 0],
        ["칭찬하는 말을 들었을 때?", ["고맙습니다", "아니에요", "당연하죠", "뭐래"], 0],
        ["회의에서 친구의 의견을 들을 때?", ["끝까지 잘 듣는다", "끼어든다", "비웃는다", "딴짓한다"], 0]
    ],
    "4-1-국어": [
        ["시의 느낌을 말할 때?", ["장면이나 경험을 떠올린다", "글자 수를 센다", "제목만 본다", "외운다"], 0],
        ["이야기의 구성 요소?", ["인물, 사건, 배경", "서론, 본론, 결론", "주장, 근거", "제목, 날짜"], 0],
        ["회의 주제 정하기?", ["해결해야 할 문제", "개인적인 일", "장난", "불가능한 일"], 0],
        ["회의에서 의견을 평가하는 기준?", ["실천 가능성, 주제 적합성", "재미", "글자 수", "발표자"], 0],
        ["국어사전에서 낱말 찾기?", ["기본형으로 찾는다", "활용형으로 찾는다", "사투리로 찾는다", "줄임말로 찾는다"], 0],
        ["사실과 의견 구분?", ["사실은 있는 그대로, 의견은 생각", "둘 다 거짓", "둘 다 참", "구분 불가"], 0],
        ["제안하는 글의 짜임?", ["문제 상황-제안-까닭", "처음-중간-끝", "발단-전개-결말", "기승전결"], 0],
        ["발표할 때의 자세?", ["바른 자세, 알맞은 목소리", "누워서", "작게", "등 돌리고"], 0],
        ["자료를 활용한 발표?", ["표, 사진, 도표 활용", "글자만", "말만", "아무것도 없이"], 0],
        ["글의 종류: 설명문?", ["정보 전달", "주장", "감동", "재미"], 0],
        ["문장의 짜임?", ["주어+서술어", "목적어", "보어", "독립어"], 0],
        ["높임 표현의 종류?", ["상대, 주체, 객체 높임", "낮춤", "비속어", "은어"], 0],
        ["책을 읽고 생각 나누기?", ["독서 토론", "시험", "숙제", "벌칙"], 0],
        ["사전 낱말 싣는 순서?", ["ㄱ-ㄴ-ㄷ", "ㅎ-ㅋ-ㅌ", "ㅏ-ㅑ-ㅓ", "랜덤"], 0],
        ["감각적 표현?", ["시각, 청각, 후각, 미각, 촉각", "생각", "논리", "주장"], 0],
        ["이야기 속 인물의 성격?", ["말과 행동으로 짐작", "옷차림", "이름", "나이"], 0],
        ["글을 읽고 요약하기?", ["중요한 내용 간추리기", "베끼기", "상상하기", "그림 그리기"], 0],
        ["제안하는 글의 특징?", ["문제 해결 방법 제시", "명령", "불평", "비난"], 0],
        ["회의 참여 태도?", ["경청, 존중", "무시", "비난", "방해"], 0],
        ["사실이 아닌 것은?", ["내 생각", "역사적 사건", "과학적 원리", "일어난 일"], 0]
    ],
    "4-2-국어": [
        ["이어 주는 말?", ["그리고, 하지만, 그래서", "학교, 집", "사과, 배", "달리다, 먹다"], 0],
        ["독서 감상문?", ["읽은 책에 대한 생각과 느낌", "책 베끼기", "책 광고", "책 표지"], 0],
        ["의견의 타당성 판단?", ["근거가 적절한지 확인", "글쓴이가 누구인지", "글의 길이", "글씨체"], 0],
        ["전기문의 특성?", ["인물의 사실적 기록, 교훈", "허구", "상상", "전설"], 0],
        ["시의 분위기?", ["낭송하며 느낀다", "분석한다", "외운다", "해석한다"], 0],
        ["사건의 흐름?", ["발단-전개-절정-결말", "처음-중간-끝", "서론-본론-결론", "기승전결"], 0],
        ["겪은 일 쓰기?", ["사실대로 솔직하게", "거짓으로", "과장해서", "남의 일처럼"], 0],
        ["문장의 호응?", ["주어와 서술어가 어울려야 함", "길어야 함", "짧아야 함", "어려워야 함"], 0],
        ["글씨 쓰기?", ["바른 자세, 정자체", "흘림체", "낙서", "그림"], 0],
        ["감동적인 부분 찾기?", ["마음에 와닿는 부분", "가장 짧은 문장", "가장 긴 문장", "첫 문장"], 0],
        ["제안하는 글 쓰기?", ["해결 방안 제시", "불만 토로", "욕설", "농담"], 0],
        ["회의 진행?", ["사회자의 진행에 따름", "마음대로", "싸움", "중단"], 0],
        ["독서 감상문 제목?", ["책 제목이나 느낌을 담아", "독서 감상문", "숙제", "이름"], 0],
        ["의견이 드러나는 글?", ["주장하는 글", "설명문", "동화", "동시"], 0],
        ["예절을 지켜 대화하기?", ["상대방을 존중하는 마음", "무시", "반말", "명령"], 0],
        ["전기문의 인물?", ["본받을 점이 있는 사람", "가상의 인물", "동물", "외계인"], 0],
        ["사건의 인과 관계?", ["원인과 결과", "시작과 끝", "앞과 뒤", "위와 아래"], 0],
        ["글을 요약하는 이유?", ["내용을 쉽게 파악하려고", "종이를 아끼려고", "빨리 쓰려고", "글씨 연습"], 0],
        ["책 내용 예상하기?", ["제목, 그림, 차례 보기", "가격 보기", "바코드 보기", "두께 보기"], 0],
        ["시 낭송?", ["느낌을 살려 목소리 조절", "로봇처럼", "빠르게", "작게"], 0]
    ],
    "5-1-국어": [
        ["대화의 원리?", ["공감하며 듣기", "끼어들기", "무시하기", "비난하기"], 0],
        ["글의 구성?", ["서론-본론-결론", "처음-중간-끝", "발단-전개-결말", "기-승-전-결"], 0],
        ["설명문 쓰기?", ["정확한 정보 전달", "주장", "상상", "감정"], 0],
        ["토의 절차?", ["주제 선정-의견 나누기-조정-결정", "결정-토의", "싸움", "투표"], 0],
        ["요약하기?", ["중심 내용 간추리기", "다 쓰기", "안 쓰기", "낙서하기"], 0],
        ["기행문 요소?", ["여정, 견문, 감상", "주장, 근거", "인물, 사건", "육하원칙"], 0],
        ["매체 자료 활용?", ["발표 내용에 알맞게", "화려하게만", "많이", "상관없이"], 0],
        ["상황에 맞는 말하기?", ["목적과 대상을 고려", "내 마음대로", "무조건 높임말", "반말"], 0],
        ["글 고쳐 쓰기?", ["내용, 조직, 표현 점검", "다시 쓰기", "버리기", "숨기기"], 0],
        ["여러 가지 매체?", ["인쇄, 영상, 인터넷", "종이", "TV", "컴퓨터"], 0],
        ["설명 방법?", ["정의, 예시, 비교, 대조", "비유", "상징", "반어"], 0],
        ["토의 주제?", ["해결해야 할 공동 문제", "개인 문제", "정답이 있는 문제", "사실"], 0],
        ["기행문: 견문?", ["보고 들은 것", "느낀 점", "이동 경로", "날씨"], 0],
        ["기행문: 감상?", ["생각이나 느낌", "본 것", "들은 것", "간 곳"], 0],
        ["온라인 예절?", ["네티켓 지키기", "악플", "도배", "해킹"], 0],
        ["이야기 요약?", ["사건의 흐름에 따라", "인물 소개만", "배경 묘사만", "대화만"], 0],
        ["글쓰기 윤리?", ["출처 밝히기", "표절", "위조", "조작"], 0],
        ["대화 태도?", ["눈 맞추고 반응하기", "딴청", "하품", "팔짱"], 0],
        ["설명문 구조?", ["머리말-본문-맺음말", "서론-본론-결론", "시작-중간-끝", "1-2-3"], 0],
        ["올바른 낱말 사용?", ["문맥에 맞는 낱말", "어려운 낱말", "유행어", "줄임말"], 0]
    ],
    "5-2-국어": [
        ["토론의 구성?", ["사회자, 찬성, 반대, 판정단", "선생님, 학생", "부모님, 자녀", "친구"], 0],
        ["주장의 타당성?", ["근거가 적절한가", "목소리가 큰가", "사람이 많은가", "힘이 센가"], 0],
        ["설명 방법?", ["분석, 분류, 비교, 대조", "은유, 직유", "풍자", "해학"], 0],
        ["요약하는 방법?", ["중심 문장 연결, 삭제, 재구성", "베끼기", "암기", "낭독"], 0],
        ["언어 예절?", ["상황에 맞는 높임법", "욕설", "비속어", "은어"], 0],
        ["인물의 삶 이해?", ["시대적 배경, 가치관 파악", "재산", "외모", "성적"], 0],
        ["기행문 쓰기?", ["여정, 견문, 감상이 드러나게", "상상해서", "남의 것 베껴서", "일기처럼"], 0],
        ["우리말 훼손?", ["비속어, 줄임말 남용", "표준어", "사투리", "고유어"], 0],
        ["겪은 일 표현?", ["진솔한 감정 표현", "과장", "허구", "무미건조"], 0],
        ["정보 윤리?", ["저작권 보호, 출처 명시", "불법 다운로드", "무단 배포", "해킹"], 0],
        ["토론 논제?", ["찬반이 나뉘는 문제", "사실 문제", "개인 취향", "기호"], 0],
        ["근거의 요건?", ["타당성, 신뢰성", "주관성", "편파성", "허위"], 0],
        ["글의 구조?", ["설명문(머리말-본문-맺음말)", "논설문(서론-본론-결론)", "이야기(발단-전개-절정-결말)", "모두 정답"], 3],
        ["우리말 사랑?", ["바르고 고운 말 쓰기", "외래어 쓰기", "한자어 쓰기", "영어 쓰기"], 0],
        ["작품 감상?", ["자신의 생각과 비교", "줄거리 외우기", "작가 조사", "표지 그리기"], 0],
        ["지식 재산권?", ["창작자의 권리 보호", "무료 사용", "공유", "복제"], 0],
        ["매체 읽기?", ["비판적 수용", "무비판적 수용", "거부", "맹신"], 0],
        ["발표 자료?", ["핵심 내용 시각화", "텍스트 나열", "장식", "애니메이션"], 0],
        ["경청?", ["상대방 말에 집중", "내 말 준비", "판단", "무시"], 0],
        ["고유어?", ["순우리말", "한자어", "외래어", "외국어"], 0]
    ],
    "6-1-국어": [
        ["비유적 표현?", ["직유, 은유, 의인법", "설명", "논증", "서사"], 0],
        ["다양한 관점?", ["글쓴이의 의도 파악", "내 생각만 고집", "무시", "비판"], 0],
        ["주장하는 글?", ["서론-본론-결론", "처음-중간-끝", "발단-전개-결말", "기승전결"], 0],
        ["면담?", ["질문 준비, 예절 지키기", "수다", "심문", "취조"], 0],
        ["뉴스?", ["관점 비교, 타당성 판단", "믿기", "외우기", "보기"], 0],
        ["이야기 바꾸어 쓰기?", ["인물, 사건, 배경 변형", "그대로 쓰기", "줄이기", "늘리기"], 0],
        ["발표?", ["매체 자료 활용, 청중 고려", "혼자 말하기", "보고 읽기", "외워 말하기"], 0],
        ["속담?", ["조상의 지혜, 교훈", "말장난", "유머", "암호"], 0],
        ["관용 표현?", ["습관적으로 굳어진 표현", "새로 만든 말", "줄임말", "유행어"], 0],
        ["논설문?", ["주장과 근거", "정보 전달", "감동", "묘사"], 0],
        ["비유의 효과?", ["생생하고 구체적인 느낌", "어렵다", "복잡하다", "길다"], 0],
        ["글쓴이의 의도?", ["목적과 예상 독자 고려", "글자 수", "문단 수", "그림"], 0],
        ["논설문 서론?", ["문제 제기, 주장", "근거", "요약", "강조"], 0],
        ["논설문 본론?", ["근거와 뒷받침 문장", "주장", "인사", "정리"], 0],
        ["논설문 결론?", ["요약 및 강조", "새로운 주장", "문제 제기", "예시"], 0],
        ["면담 질문?", ["목적에 맞는 질문", "사적인 질문", "예/아니오 질문", "유도 질문"], 0],
        ["공식적 말하기?", ["높임말, 정확한 발음", "비속어", "줄임말", "사투리"], 0],
        ["광고?", ["설득, 정보 제공", "강요", "속임수", "명령"], 0],
        ["토론 태도?", ["존중, 경청, 규칙 준수", "비난", "우기기", "화내기"], 0],
        ["이야기 구성?", ["발단-전개-절정-결말", "서론-본론-결론", "시작-끝", "1-2-3-4"], 0]
    ],
    "6-2-국어": [
        ["인물의 삶 성찰?", ["가치관 비교, 자신의 삶 되돌아보기", "비판", "동정", "무관심"], 0],
        ["관용 표현 활용?", ["상황에 맞게, 효과적으로", "아무 때나", "많이", "어렵게"], 0],
        ["글쓴이의 관점?", ["제목, 표현, 내용으로 파악", "사진", "글씨체", "종이"], 0],
        ["효과적인 발표?", ["자료 활용, 눈 맞춤, 목소리 조절", "원고 읽기", "화면 보기", "가만히 있기"], 0],
        ["이야기 창작?", ["상상력, 개연성", "표절", "사실 기록", "일기"], 0],
        ["광고 읽기?", ["의도 파악, 과장 주의", "구매", "수집", "감상"], 0],
        ["뉴스 활용?", ["비판적 수용, 정보 활용", "퍼나르기", "댓글 달기", "무시"], 0],
        ["면담 절차?", ["준비-진행-정리", "질문-답변", "만남-헤어짐", "전화-문자"], 0],
        ["설득하는 글?", ["타당한 근거, 논리적 구성", "감정 호소", "협박", "애원"], 0],
        ["언어의 힘?", ["말 한마디의 중요성", "힘 없음", "소리", "진동"], 0],
        ["인물의 가치관?", ["말과 행동", "외모", "재력", "지위"], 0],
        ["속담 활용?", ["주장 뒷받침, 흥미 유발", "시간 때우기", "자랑", "시험"], 0],
        ["관점 비교?", ["같은 사안에 대한 다른 의견", "틀린 그림 찾기", "맞춤법", "띄어쓰기"], 0],
        ["영상 광고?", ["시각, 청각 이미지 활용", "글자만", "소리만", "그림만"], 0],
        ["발표 태도?", ["자신감, 예의", "거만", "소극적", "장난"], 0],
        ["이야기 변형?", ["창의적 재구성", "망치기", "줄이기", "베끼기"], 0],
        ["타당한 근거?", ["사실, 객관적 자료", "소문", "추측", "개인적 믿음"], 0],
        ["뉴스 기능?", ["정보 제공, 여론 형성", "오락", "판매", "선전"], 0],
        ["인터넷 예절?", ["존중, 배려, 책임감", "익명성", "공격", "무책임"], 0],
        ["생각 표현?", ["명확하고 논리적으로", "애매하게", "감정적으로", "공격적으로"], 0]
    ],

    // ================= [사회] (각 20문제) =================
    "3-1-사회": [
        ["우리 고장의 위치?", ["지도, 위성사진 등으로 확인", "상상", "꿈", "소문"], 0],
        ["지도?", ["위에서 내려다본 모습을 기호로 나타낸 그림", "사진", "그림", "낙서"], 0],
        ["방위?", ["동서남북", "앞뒤좌우", "상하좌우", "여기저기"], 0],
        ["기호?", ["지도에서 약속된 표시", "암호", "글자", "그림"], 0],
        ["범례?", ["기호의 뜻을 설명한 것", "제목", "날짜", "작가"], 0],
        ["고장의 모습?", ["하늘에서 본 모습, 디지털 영상 지도", "땅속", "바다", "우주"], 0],
        ["주요 장소?", ["사람들이 많이 모이는 곳", "나만 아는 곳", "없는 곳", "무서운 곳"], 0],
        ["백지도?", ["기호와 글자가 없는 지도", "하얀 종이", "잘못된 지도", "옛날 지도"], 0],
        ["고장의 유래?", ["지명에 담긴 뜻, 전설", "지어낸 이야기", "거짓말", "농담"], 0],
        ["답사?", ["직접 가서 조사하는 것", "인터넷 검색", "책 읽기", "상상하기"], 0],
        ["교통수단?", ["이동을 도와주는 도구", "장난감", "가구", "학용품"], 0],
        ["옛날 교통수단?", ["가마, 나귀, 뗏목", "자동차", "비행기", "기차"], 0],
        ["오늘날 교통수단?", ["자동차, 기차, 비행기, 배", "가마", "소", "말"], 0],
        ["통신수단?", ["소식을 전하는 도구", "그릇", "옷", "신발"], 0],
        ["옛날 통신수단?", ["봉수, 파발, 신호연", "스마트폰", "전화", "이메일"], 0],
        ["오늘날 통신수단?", ["스마트폰, 인터넷, SNS", "북", "꽹과리", "비둘기"], 0],
        ["교통 발달?", ["생활권 확대, 시간 단축", "고립", "느림", "불편"], 0],
        ["통신 발달?", ["실시간 정보 교환, 세계화", "단절", "소외", "오해"], 0],
        ["고장의 자랑?", ["문화유산, 특산물, 인물", "쓰레기", "소음", "공해"], 0],
        ["문화유산?", ["조상들이 남긴 소중한 유산", "헌 물건", "버린 것", "새 것"], 0]
    ],
    "3-2-사회": [
        ["환경?", ["자연환경, 인문환경", "공기", "물", "흙"], 0],
        ["자연환경?", ["산, 강, 바다, 날씨", "건물", "도로", "다리"], 0],
        ["인문환경?", ["사람들이 만든 시설", "나무", "꽃", "돌"], 0],
        ["생활 모습?", ["환경에 따라 다르다", "똑같다", "정해져 있다", "모른다"], 0],
        ["농촌?", ["농사짓는 마을", "고기잡는 마을", "산지 마을", "도시"], 0],
        ["어촌?", ["고기잡는 마을", "농사짓는 마을", "공장 마을", "도시"], 0],
        ["산지촌?", ["산에서 임업, 목축", "바다", "평야", "도시"], 0],
        ["의식주?", ["옷, 음식, 집", "놀이", "공부", "운동"], 0],
        ["옛날 의생활?", ["한복, 짚신", "청바지", "양복", "운동화"], 0],
        ["오늘날 의생활?", ["양복, 청바지, 다양한 옷", "한복만", "가죽옷", "나뭇잎"], 0],
        ["옛날 식생활?", ["밥, 국, 김치, 나물", "피자", "햄버거", "스파게티"], 0],
        ["오늘날 식생활?", ["다양한 세계 음식", "쌀만", "채소만", "고기만"], 0],
        ["옛날 주생활?", ["초가집, 기와집", "아파트", "빌라", "오피스텔"], 0],
        ["오늘날 주생활?", ["아파트, 주택", "동굴", "움집", "텐트"], 0],
        ["가족?", ["함께 사는 공동체", "남", "친구", "동료"], 0],
        ["핵가족?", ["부모와 미혼 자녀", "조부모+부모+자녀", "1인 가구", "대가족"], 0],
        ["확대가족?", ["조부모, 부모, 자녀가 함께", "부부만", "혼자", "친구끼리"], 0],
        ["다양한 가족?", ["조손, 한부모, 다문화 가족", "핵가족만", "확대가족만", "없다"], 0],
        ["세시 풍속?", ["계절에 따른 명절 풍습", "매일 하는 일", "학교 행사", "생일"], 0],
        ["가족의 역할?", ["서로 돕고 사랑하기", "싸우기", "무시하기", "명령하기"], 0]
    ],
    "4-1-사회": [
        ["지도 요소?", ["방위, 기호, 축척, 등고선", "그림", "사진", "설명"], 0],
        ["축척?", ["실제 거리를 줄인 비율", "지도 크기", "종이 크기", "가격"], 0],
        ["등고선?", ["땅의 높낮이를 나타낸 선", "도로", "강", "철도"], 0],
        ["중심지?", ["사람들이 많이 모이는 곳", "변두리", "산꼭대기", "바다 한가운데"], 0],
        ["지역 문제?", ["주민들이 해결해야 할 문제", "나만의 문제", "남의 문제", "없는 문제"], 0],
        ["주민 참여?", ["공청회, 회의, 투표", "무관심", "방관", "포기"], 0],
        ["지방 자치?", ["지역 일을 스스로 처리", "정부가 다 함", "왕이 함", "안 함"], 0],
        ["공공 기관?", ["주민 전체의 이익을 위한 곳", "가게", "식당", "pc방"], 0],
        ["시청/도청?", ["지역 살림 맡아함", "물건 파는 곳", "영화 보는 곳", "잠자는 곳"], 0],
        ["교육청?", ["학교, 교육 관련 일", "청소", "경찰", "소방"], 0],
        ["경찰서?", ["치안, 안전", "불 끄기", "편지 배달", "돈 관리"], 0],
        ["소방서?", ["화재 진압, 구조", "도둑 잡기", "서류 발급", "교육"], 0],
        ["주민 소환?", ["문제 있는 대표를 물러나게 함", "칭찬", "상 주기", "초대"], 0],
        ["선거?", ["대표를 뽑는 일", "게임", "놀이", "전쟁"], 0],
        ["투표?", ["자신의 의견을 표에 표시", "소리 지르기", "손 들기", "싸우기"], 0],
        ["민주주의?", ["국민이 주인인 정치", "왕정", "독재", "신분제"], 0],
        ["답사 계획?", ["목적, 장소, 날짜, 방법", "준비물만", "간식만", "옷만"], 0],
        ["견학?", ["직접 가서 보고 배우는 것", "노는 것", "자는 것", "먹는 것"], 0],
        ["인터뷰?", ["면담, 질문하고 답하기", "시험", "수다", "싸움"], 0],
        ["지역 문화유산?", ["보존하고 아껴야 함", "팔아야 함", "버려야 함", "부셔야 함"], 0]
    ],
    "4-2-사회": [
        ["촌락?", ["농촌, 어촌, 산지촌", "도시", "서울", "부산"], 0],
        ["도시?", ["인구 밀집, 발달된 지역", "시골", "농사", "숲"], 0],
        ["촌락 문제?", ["고령화, 일손 부족", "교통 체증", "주택 부족", "소음"], 0],
        ["도시 문제?", ["교통, 주택, 환경 문제", "일손 부족", "노인 문제", "병원 부족"], 0],
        ["도농 교류?", ["자매결연, 직거래 장터", "경쟁", "차단", "무시"], 0],
        ["경제 활동?", ["생산, 소비, 분배", "놀기", "자기", "쉬기"], 0],
        ["생산?", ["필요한 것을 만드는 것", "쓰는 것", "버리는 것", "없애는 것"], 0],
        ["소비?", ["필요한 것을 쓰는 것", "만드는 것", "파는 것", "모으는 것"], 0],
        ["선택의 문제?", ["자원의 희소성 때문에 발생", "돈이 많아서", "물건이 많아서", "시간이 많아서"], 0],
        ["현명한 선택?", ["비용과 만족 고려", "충동구매", "비싼 것", "싼 것"], 0],
        ["생산 요소?", ["자연 자원, 노동, 자본", "공기", "물", "햇빛"], 0],
        ["저축?", ["돈을 모으는 것", "돈을 쓰는 것", "돈을 버리는 것", "돈을 잃는 것"], 0],
        ["기업?", ["이윤을 목적으로 생산 활동", "봉사 단체", "학교", "가정"], 0],
        ["시장?", ["물건을 사고파는 곳", "놀이터", "공원", "학교"], 0],
        ["화폐?", ["교환의 수단, 돈", "종이", "돌", "조개"], 0],
        ["소비자 권리?", ["안전할 권리, 알 권리", "마음대로 할 권리", "공짜 권리", "갑질 권리"], 0],
        ["사회적 소수자?", ["장애인, 외국인, 노인 등", "부자", "정치인", "연예인"], 0],
        ["차별?", ["부당하게 대우하는 것", "공평", "평등", "존중"], 0],
        ["편견?", ["치우친 생각", "바른 생각", "지식", "지혜"], 0],
        ["양성평등?", ["남녀 차별 없이 동등하게", "여자 우대", "남자 우대", "차별"], 0]
    ],
    "5-1-사회": [
        ["우리나라 위치?", ["동북아시아 반도", "유럽", "아프리카", "남미"], 0],
        ["영토?", ["한반도와 부속 도서", "일본", "중국", "미국"], 0],
        ["영해?", ["바다의 영역", "강", "호수", "수영장"], 0],
        ["영공?", ["하늘의 영역", "우주", "구름", "달"], 0],
        ["지형 특징?", ["동고서저", "서고동저", "남고북저", "평탄"], 0],
        ["기후 특징?", ["사계절, 온대 기후", "열대 기후", "한대 기후", "건조 기후"], 0],
        ["인구 분포?", ["도시에 집중", "농촌에 집중", "산에 집중", "바다에 집중"], 0],
        ["인권?", ["사람답게 살 권리", "동물 권리", "기계 권리", "외계인 권리"], 0],
        ["헌법?", ["국가의 최고 법", "규칙", "약속", "명령"], 0],
        ["기본권?", ["자유, 평등, 참정, 청구, 사회권", "명령권", "지배권", "통제권"], 0],
        ["의무?", ["납세, 국방, 교육, 근로", "복종", "충성", "봉사"], 0],
        ["법?", ["강제성이 있는 사회 규범", "도덕", "양심", "관습"], 0],
        ["재판?", ["분쟁을 법으로 해결", "싸움", "토론", "투표"], 0],
        ["삼심제?", ["공정한 재판을 위해 3번", "1번", "2번", "4번"], 0],
        ["고조선?", ["우리나라 최초의 국가", "신라", "고려", "조선"], 0],
        ["삼국 시대?", ["고구려, 백제, 신라", "가야, 부여, 옥저", "고려, 조선, 대한제국", "한국, 중국, 일본"], 0],
        ["통일 신라?", ["삼국 통일", "고구려 통일", "백제 통일", "가야 통일"], 0],
        ["고려?", ["후삼국 통일, 코리아 유래", "조선", "신라", "발해"], 0],
        ["거란 침입?", ["서희의 담판, 강감찬 귀주대첩", "이순신", "을지문덕", "계백"], 0],
        ["몽골 침입?", ["강화도 천도, 팔만대장경", "항복", "동맹", "무시"], 0]
    ],
    "5-2-사회": [
        ["조선 건국?", ["이성계", "왕건", "궁예", "견훤"], 0],
        ["한양 도읍?", ["교통 편리, 배산임수", "경치", "우연", "점괘"], 0],
        ["세종대왕?", ["훈민정음, 과학 발전", "전쟁", "무역", "사치"], 0],
        ["유교?", ["조선의 통치 이념", "불교", "도교", "기독교"], 0],
        ["신분제?", ["양반, 중인, 상민, 천민", "평등", "자유", "민주"], 0],
        ["임진왜란?", ["일본의 침략, 이순신, 의병", "청나라", "몽골", "미국"], 0],
        ["병자호란?", ["청나라 침략, 남한산성", "일본", "명나라", "러시아"], 0],
        ["영조, 정조?", ["탕평책, 수원 화성", "폭정", "전쟁", "쇄국"], 0],
        ["실학?", ["실생활에 도움 되는 학문", "성리학", "철학", "문학"], 0],
        ["김홍도, 신윤복?", ["풍속화", "산수화", "초상화", "추상화"], 0],
        ["대동여지도?", ["김정호, 목판본", "장영실", "정약용", "허준"], 0],
        ["흥선대원군?", ["쇄국 정책, 경복궁 중건", "개화", "친일", "친미"], 0],
        ["강화도 조약?", ["최초의 근대적 불평등 조약", "평등 조약", "승리", "항복"], 0],
        ["갑신정변?", ["급진 개화파의 개혁 시도", "동학 농민 운동", "3.1 운동", "독립 협회"], 0],
        ["동학 농민 운동?", ["반봉건, 반외세", "친일", "친미", "왕정 복고"], 0],
        ["을미사변?", ["명성황후 시해", "왕 암살", "반란", "전쟁"], 0],
        ["대한 제국?", ["고종 황제, 자주 독립국 선포", "식민지", "공화국", "왕국"], 0],
        ["을사늑약?", ["외교권 박탈", "군대 해산", "사법권 박탈", "경찰권 박탈"], 0],
        ["안중근?", ["이토 히로부미 저격", "도시락 폭탄", "만세 운동", "헤이그 특사"], 0],
        ["독도?", ["우리 땅", "일본 땅", "미국 땅", "주인 없음"], 0]
    ],
    "6-1-사회": [
        ["3.1 운동?", ["전국적 만세 운동, 독립 의지", "폭동", "반란", "축제"], 0],
        ["대한민국 임시 정부?", ["상하이, 독립 운동 지휘", "서울", "도쿄", "워싱턴"], 0],
        ["8.15 광복?", ["1945년, 일본 항복", "1919년", "1950년", "1948년"], 0],
        ["정부 수립?", ["1948년 8월 15일, 이승만", "김구", "박정희", "김대중"], 0],
        ["6.25 전쟁?", ["1950년, 북한 남침", "1945년", "1910년", "1980년"], 0],
        ["4.19 혁명?", ["이승만 독재 타도, 민주주의", "군사 쿠데타", "산업화", "통일"], 0],
        ["5.18 민주화 운동?", ["광주, 신군부 저항", "서울", "부산", "대구"], 0],
        ["6월 민주 항쟁?", ["대통령 직선제 쟁취", "간선제", "독재", "왕정"], 0],
        ["민주주의 원리?", ["국민 주권, 권력 분립", "독재", "왕권", "신분"], 0],
        ["국회?", ["입법부, 법 제정", "행정부", "사법부", "언론"], 0],
        ["정부?", ["행정부, 법 집행", "입법부", "사법부", "시민 단체"], 0],
        ["법원?", ["사법부, 재판", "입법부", "행정부", "경찰"], 0],
        ["경제 체제?", ["자유 시장 경제", "계획 경제", "공산주의", "통제 경제"], 0],
        ["경제 성장?", ["한강의 기적, 산업화", "침체", "후퇴", "정체"], 0],
        ["IMF 위기?", ["외환 위기, 금 모으기", "석유 파동", "금융 위기", "전쟁"], 0],
        ["가계?", ["소비 주체", "생산 주체", "정치 주체", "교육 주체"], 0],
        ["기업?", ["생산 주체, 이윤 추구", "소비 주체", "자선 단체", "정부"], 0],
        ["정부(경제)?", ["경제 활동 조정, 공공재 생산", "소비만", "생산만", "방관"], 0],
        ["무역?", ["나라 간 물건 사고팔기", "전쟁", "외교", "여행"], 0],
        ["공정 무역?", ["정당한 가격 지불", "덤핑", "밀수", "착취"], 0]
    ],
    "6-2-사회": [
        ["세계 지도?", ["둥근 지구를 평면에 나타냄", "지구본", "사진", "그림"], 0],
        ["지구본?", ["지구 모형", "지도", "공", "풍선"], 0],
        ["위도, 경도?", ["위치 나타내는 가상의 선", "도로", "철도", "국경"], 0],
        ["대륙?", ["아시아, 유럽, 아프리카 등", "한국, 일본", "태평양", "제주도"], 0],
        ["대양?", ["태평양, 대서양, 인도양 등", "한강", "낙동강", "지중해"], 0],
        ["기후대?", ["열대, 온대, 냉대, 한대", "봄, 여름, 가을, 겨울", "비, 눈, 바람", "맑음, 흐림"], 0],
        ["세계 인구?", ["아시아에 가장 많음", "유럽", "아프리카", "남미"], 0],
        ["이웃 나라?", ["중국, 일본, 러시아", "미국", "영국", "프랑스"], 0],
        ["중국?", ["한자, 유교, 인구 많음", "기모노", "보드카", "카레"], 0],
        ["일본?", ["섬나라, 화산, 지진", "만리장성", "시베리아", "사막"], 0],
        ["러시아?", ["가장 넓은 영토, 추위", "열대 우림", "캥거루", "피라미드"], 0],
        ["지구촌 문제?", ["환경, 빈곤, 전쟁, 질병", "숙제", "시험", "게임"], 0],
        ["국제기구?", ["UN, UNESCO, WHO", "삼성", "애플", "구글"], 0],
        ["비정부 기구(NGO)?", ["시민 단체, 국경없는 의사회", "정부", "군대", "경찰"], 0],
        ["지속 가능한 발전?", ["환경 보전과 개발 조화", "개발만", "보전만", "포기"], 0],
        ["통일?", ["남북 평화 통일", "전쟁", "분단 유지", "흡수"], 0],
        ["독도?", ["천연기념물, 우리 영토", "일본 영토", "공해", "섬"], 0],
        ["동해?", ["우리나라 동쪽 바다", "일본해", "남해", "서해"], 0],
        ["세계 시민?", ["지구촌 문제에 관심, 참여", "이기주의", "무관심", "차별"], 0],
        ["문화 다양성?", ["서로 다른 문화 존중", "차별", "혐오", "우월주의"], 0]
    ],

    // ================= [과학] (각 20문제) =================
    "3-1-과학": [
        ["물체?", ["모양과 공간을 차지하는 것", "재료", "성질", "기능"], 0],
        ["물질?", ["물체를 만드는 재료", "물건", "도구", "장난감"], 0],
        ["금속?", ["광택, 단단함, 전도성", "투명", "부드러움", "가벼움"], 0],
        ["플라스틱?", ["가볍고 다양한 모양", "무거움", "잘 깨짐", "녹슬음"], 0],
        ["고무?", ["탄성, 잘 늘어남", "딱딱함", "투명함", "차가움"], 0],
        ["자석?", ["철을 끌어당김, N극/S극", "나무 당김", "플라스틱 당김", "극 없음"], 0],
        ["자석의 성질?", ["같은 극 밀고 다른 극 당김", "같은 극 당김", "밀기만 함", "당기기만 함"], 0],
        ["자기력?", ["자석의 힘", "전기력", "중력", "마찰력"], 0],
        ["배추흰나비?", ["알-애벌레-번데기-어른벌레", "알-어른벌레", "애벌레-어른벌레", "번데기-알"], 0],
        ["곤충?", ["머리, 가슴, 배, 다리 6개", "다리 4개", "다리 8개", "머리, 몸통"], 0],
        ["동물의 한살이?", ["태어나서 자라고 죽는 과정", "하루 일과", "식사 시간", "잠자는 시간"], 0],
        ["완전 탈바꿈?", ["번데기 과정 있음", "없음", "알 없음", "어른벌레 없음"], 0],
        ["불완전 탈바꿈?", ["번데기 과정 없음", "있음", "알 없음", "애벌레 없음"], 0],
        ["알을 낳는 동물?", ["닭, 개구리, 물고기", "개", "고양이", "소"], 0],
        ["새끼를 낳는 동물?", ["개, 고양이, 사람", "닭", "오리", "거북이"], 0],
        ["자석 극?", ["가장 센 부분, 양 끝", "가운데", "없음", "한 군데"], 0],
        ["나침반?", ["자석 성질 이용, 방향 찾기", "시계", "온도계", "저울"], 0],
        ["철가루?", ["자기력선 모양으로 늘어섬", "변화 없음", "날아감", "녹음"], 0],
        ["지구?", ["거대한 자석", "그냥 돌", "물", "불"], 0],
        ["생명 존중?", ["동식물 아끼고 보호", "괴롭히기", "죽이기", "버리기"], 0]
    ],
    "3-2-과학": [
        ["동물의 생활?", ["환경에 적응하여 살아감", "마음대로", "숨어 삶", "잠만 잠"], 0],
        ["땅에 사는 동물?", ["개, 고양이, 소", "물고기", "독수리", "고래"], 0],
        ["물에 사는 동물?", ["물고기, 개구리, 조개", "사자", "호랑이", "토끼"], 0],
        ["날아다니는 동물?", ["새, 곤충, 박쥐", "지렁이", "두더지", "뱀"], 0],
        ["특수 환경 동물?", ["낙타(사막), 펭귄(극지방)", "개", "고양이", "참새"], 0],
        ["지표의 변화?", ["흙, 물, 공기에 의해 변함", "안 변함", "사람만 바꿈", "동물만 바꿈"], 0],
        ["흙?", ["바위가 부서져 생김", "원래 있었다", "나무가 변함", "물이 변함"], 0],
        ["부식토?", ["식물이 잘 자라는 흙", "모래", "진흙", "자갈"], 0],
        ["침식 작용?", ["깎이는 것", "쌓이는 것", "멈추는 것", "흐르는 것"], 0],
        ["퇴적 작용?", ["쌓이는 것", "깎이는 것", "사라지는 것", "부서지는 것"], 0],
        ["강의 상류?", ["바위, 급한 물살", "모래", "느린 물살", "평지"], 0],
        ["강의 하류?", ["모래, 느린 물살", "바위", "폭포", "계곡"], 0],
        ["물질의 상태?", ["고체, 액체, 기체", "물체", "물건", "재료"], 0],
        ["고체?", ["모양과 부피 일정", "흐름", "퍼짐", "안 보임"], 0],
        ["액체?", ["담는 그릇에 따라 모양 변함", "모양 일정", "날아감", "딱딱함"], 0],
        ["기체?", ["공간 채움, 퍼짐", "모양 일정", "부피 일정", "잡을 수 있음"], 0],
        ["공기?", ["공간 차지, 무게 있음", "없음", "가벼움", "안 보임"], 0],
        ["물?", ["액체", "고체", "기체", "플라스마"], 0],
        ["얼음?", ["고체", "액체", "기체", "수증기"], 0],
        ["수증기?", ["기체", "액체", "고체", "얼음"], 0]
    ],
    "4-1-과학": [
        ["무게?", ["지구가 당기는 힘의 크기", "질량", "부피", "길이"], 0],
        ["용수철 저울?", ["무게 측정, 늘어난 길이 비례", "질량 측정", "길이 측정", "온도 측정"], 0],
        ["수평 잡기?", ["무게×거리 같게", "무게만 같게", "거리만 같게", "모양 같게"], 0],
        ["양팔 저울?", ["무게 비교", "길이 비교", "부피 비교", "온도 비교"], 0],
        ["식물의 한살이?", ["씨-싹-잎/줄기-꽃-열매", "꽃-열매-씨", "잎-줄기-뿌리", "랜덤"], 0],
        ["씨 싹 트는 조건?", ["물, 온도, 공기", "빛", "흙", "비료"], 0],
        ["식물 자라는 조건?", ["물, 온도, 빛, 양분", "어둠", "추위", "바람"], 0],
        ["혼합물?", ["두 가지 이상 섞인 것", "순수한 것", "한 가지", "새로운 물질"], 0],
        ["분리?", ["성질 차이 이용해 나눔", "섞음", "버림", "태움"], 0],
        ["알갱이 크기 분리?", ["체 사용", "자석", "물", "증발"], 0],
        ["자석 분리?", ["철이 섞인 혼합물", "소금", "설탕", "플라스틱"], 0],
        ["물에 녹는 성질 분리?", ["거름, 증발", "자석", "체", "손"], 0],
        ["화산?", ["마그마 분출", "지진", "태풍", "홍수"], 0],
        ["현무암?", ["구멍 숭숭, 어두운 색", "밝은 색", "무늬", "매끈"], 0],
        ["화강암?", ["알갱이 크고 밝은 색", "검은색", "구멍", "가벼움"], 0],
        ["지진?", ["땅이 흔들림", "비", "바람", "눈"], 0],
        ["지진 대처?", ["머리 보호, 넓은 곳 대피", "엘리베이터", "집 안", "벽 옆"], 0],
        ["지층?", ["층층이 쌓인 암석", "화산", "강", "바다"], 0],
        ["화석?", ["옛날 생물 흔적", "돌", "보석", "그림"], 0],
        ["퇴적암?", ["이암, 사암, 역암", "현무암", "화강암", "대리암"], 0]
    ],
    "4-2-과학": [
        ["식물의 생활?", ["환경에 적응", "이동", "말하기", "도구 사용"], 0],
        ["물에 사는 식물?", ["부레옥잠, 연꽃", "선인장", "소나무", "장미"], 0],
        ["사막 식물?", ["선인장(가시, 저수 조직)", "연꽃", "부레옥잠", "이끼"], 0],
        ["물?", ["생명 유지 필수", "독", "쓰레기", "장난감"], 0],
        ["물의 상태 변화?", ["얼음-물-수증기", "변화 없음", "사라짐", "생겨남"], 0],
        ["응결?", ["수증기->물 (이슬, 안개)", "물->수증기", "물->얼음", "얼음->물"], 0],
        ["증발?", ["물->수증기 (빨래 마름)", "수증기->물", "물->얼음", "얼음->물"], 0],
        ["끓음?", ["물->수증기 (내부 기포)", "표면만", "천천히", "차갑게"], 0],
        ["응고?", ["물->얼음", "얼음->물", "물->수증기", "수증기->물"], 0],
        ["융해?", ["얼음->물", "물->얼음", "물->수증기", "수증기->물"], 0],
        ["그림자?", ["빛, 물체, 스크린 필요", "어둠", "거울", "렌즈"], 0],
        ["그림자 크기?", ["광원과 물체 거리 조절", "색깔", "모양", "무게"], 0],
        ["거울?", ["빛의 반사", "굴절", "흡수", "통과"], 0],
        ["볼록 거울?", ["넓게 보임 (편의점 거울)", "확대", "거꾸로", "똑같게"], 0],
        ["오목 거울?", ["확대/거꾸로 (숟가락 안쪽)", "넓게", "작게", "흐리게"], 0],
        ["평면 거울?", ["좌우 반전", "상하 반전", "확대", "축소"], 0],
        ["빛의 직진?", ["곧게 나아감", "휘어짐", "멈춤", "돌아감"], 0],
        ["투명한 물체?", ["빛 통과, 그림자 연함", "빛 차단", "반사", "흡수"], 0],
        ["불투명한 물체?", ["빛 차단, 그림자 진함", "빛 통과", "투명", "보임"], 0],
        ["달?", ["지구 위성, 반사체", "별", "행성", "태양"], 0]
    ],
    "5-1-과학": [
        ["온도?", ["물체의 차갑고 뜨거운 정도", "날씨", "계절", "기분"], 0],
        ["온도계?", ["적외선, 알코올, 귀 체온계", "자", "저울", "시계"], 0],
        ["열의 이동?", ["고온->저온", "저온->고온", "랜덤", "정지"], 0],
        ["전도?", ["고체에서 열 이동", "액체", "기체", "진공"], 0],
        ["대류?", ["액체, 기체에서 열 이동", "고체", "진공", "접촉"], 0],
        ["단열?", ["열 이동 막음", "열 전달", "가열", "냉각"], 0],
        ["태양계?", ["태양과 행성들", "지구만", "달만", "별자리"], 0],
        ["행성?", ["수, 금, 지, 화, 목, 토, 천, 해", "달", "태양", "북극성"], 0],
        ["별?", ["스스로 빛을 냄 (항성)", "행성", "위성", "혜성"], 0],
        ["북극성?", ["북쪽 방향 찾기", "남쪽", "동쪽", "서쪽"], 0],
        ["용해?", ["용질이 용매에 녹는 것", "가라앉음", "뜸", "분리"], 0],
        ["용액?", ["골고루 섞인 혼합물", "흙탕물", "우유", "주스(건더기)"], 0],
        ["용질?", ["녹는 물질 (소금)", "녹이는 물질", "그릇", "도구"], 0],
        ["용매?", ["녹이는 물질 (물)", "녹는 물질", "숟가락", "컵"], 0],
        ["진하기?", ["용질의 양에 따라 다름", "물 양만", "그릇 크기", "온도"], 0],
        ["다양한 생물?", ["동물, 식물, 균류, 원생생물, 세균", "동물만", "식물만", "사람만"], 0],
        ["균류?", ["버섯, 곰팡이", "세균", "짚신벌레", "해캄"], 0],
        ["원생생물?", ["짚신벌레, 해캄", "버섯", "개", "장미"], 0],
        ["세균?", ["매우 작음, 질병 또는 유익", "눈에 보임", "큼", "동물"], 0],
        ["생태계?", ["생물+비생물 환경", "생물만", "환경만", "학교"], 0]
    ],
    "5-2-과학": [
        ["날씨?", ["기온, 습도, 강수량, 바람", "기분", "요일", "시간"], 0],
        ["이슬, 안개?", ["응결 현상", "증발", "끓음", "융해"], 0],
        ["구름, 비, 눈?", ["물방울/얼음 알갱이 떨어짐", "돌", "먼지", "빛"], 0],
        ["기압?", ["공기의 무게 압력", "물 압력", "땅 압력", "혈압"], 0],
        ["바람?", ["고기압->저기압", "저기압->고기압", "랜덤", "안 붊"], 0],
        ["산성 용액?", ["신맛, 리트머스 붉게", "쓴맛", "미끌", "파랗게"], 0],
        ["염기성 용액?", ["쓴맛, 미끌, 리트머스 푸르게", "신맛", "거침", "붉게"], 0],
        ["지시약?", ["색깔 변화로 성질 구별", "맛", "냄새", "소리"], 0],
        ["중화?", ["산성+염기성 섞음", "산+산", "염기+염기", "물+물"], 0],
        ["물체의 빠르기?", ["거리/시간 (속력)", "무게", "크기", "색깔"], 0],
        ["단위?", ["m/s, km/h", "kg", "m", "s"], 0],
        ["우리 몸?", ["뼈, 근육, 소화, 호흡, 순환, 배설", "기계", "로봇", "인형"], 0],
        ["소화?", ["음식물 분해, 흡수", "숨쉬기", "피 돌기", "오줌"], 0],
        ["호흡?", ["숨쉬기 (산소 흡수, 이산화탄소 배출)", "먹기", "자기", "뛰기"], 0],
        ["순환?", ["혈액 이동 (심장)", "소화", "호흡", "배설"], 0],
        ["배설?", ["노폐물 내보냄 (콩팥)", "똥(소화)", "땀", "눈물"], 0],
        ["감각?", ["자극 받아들임", "운동", "생각", "꿈"], 0],
        ["운동?", ["뼈와 근육 상호작용", "가만히", "잠", "식사"], 0],
        ["건강?", ["운동, 식사, 휴식, 청결", "게임", "과식", "밤샘"], 0],
        ["태양 고도?", ["태양이 높이 뜬 정도", "키", "산 높이", "건물 높이"], 0]
    ],
    "6-1-과학": [
        ["지구 자전?", ["하루 1바퀴, 낮/밤", "1년", "계절", "달"], 0],
        ["지구 공전?", ["1년 1바퀴, 계절", "하루", "낮/밤", "밀물/썰물"], 0],
        ["달의 위상?", ["모양 변화 (초승-상현-보름-하현-그믐)", "색 변화", "크기 변화", "거리 변화"], 0],
        ["여러 가지 기체?", ["산소, 이산화탄소, 질소, 수소", "물", "흙", "나무"], 0],
        ["산소?", ["호흡, 연소 도움", "불 끔", "식물 광합성 재료", "가벼움"], 0],
        ["이산화탄소?", ["불 끔, 석회수 뿌옇게", "호흡", "연소", "가벼움"], 0],
        ["압력과 기체?", ["압력 크면 부피 작아짐", "커짐", "변화 없음", "터짐"], 0],
        ["온도와 기체?", ["온도 높으면 부피 커짐", "작아짐", "변화 없음", "얼음"], 0],
        ["식물 구조?", ["뿌리, 줄기, 잎, 꽃, 열매", "팔, 다리", "머리", "꼬리"], 0],
        ["광합성?", ["빛+물+이산화탄소 -> 양분+산소", "호흡", "소화", "배설"], 0],
        ["증산 작용?", ["잎 기공으로 물 배출", "물 흡수", "양분 이동", "꽃"], 0],
        ["렌즈?", ["빛 굴절 이용", "반사", "흡수", "차단"], 0],
        ["볼록 렌즈?", ["빛 모음, 확대 (돋보기)", "빛 퍼짐", "축소", "거울"], 0],
        ["오목 렌즈?", ["빛 퍼짐, 축소 (근시 안경)", "빛 모음", "확대", "거울"], 0],
        ["생물과 환경?", ["상호작용, 적응", "싸움", "무관심", "지배"], 0],
        ["먹이 사슬?", ["먹고 먹히는 관계", "친구", "가족", "경쟁"], 0],
        ["생태계 평형?", ["균형 유지", "파괴", "멸종", "오염"], 0],
        ["환경 오염?", ["생태계 파괴 원인", "보호", "발전", "평화"], 0],
        ["생물 다양성?", ["다양한 생물 공존", "단일종", "멸종", "단순함"], 0],
        ["간이 사진기?", ["볼록 렌즈 성질 이용", "거울", "프리즘", "유리"], 0]
    ],
    "6-2-과학": [
        ["전기?", ["에너지의 한 형태", "물질", "생물", "힘"], 0],
        ["전구 연결?", ["직렬(밝음), 병렬(오래감)", "반대", "같음", "모름"], 0],
        ["전자석?", ["전기 흐를 때만 자석", "영구 자석", "돌", "쇠"], 0],
        ["계절 변화 원인?", ["자전축 기울어진 채 공전", "거리", "자전", "태양 크기"], 0],
        ["태양 고도와 기온?", ["고도 높으면 기온 높음", "반대", "상관없음", "랜덤"], 0],
        ["연소?", ["물질이 산소와 반응해 빛/열 냄", "폭발", "증발", "녹음"], 0],
        ["연소 조건?", ["탈 물질, 산소, 발화점", "물", "이산화탄소", "흙"], 0],
        ["소화?", ["연소 조건 제거 (불 끄기)", "소화제", "먹기", "태우기"], 0],
        ["우리 몸 구조?", ["유기적 연결", "따로따로", "단순", "기계"], 0],
        ["에너지?", ["일을 할 수 있는 능력", "힘", "물질", "전기"], 0],
        ["에너지 형태?", ["운동, 위치, 열, 전기, 빛, 화학", "유령", "마법", "기분"], 0],
        ["에너지 전환?", ["형태가 바뀜", "사라짐", "생겨남", "고정"], 0],
        ["에너지 보존?", ["총량은 일정함", "줄어듦", "늘어남", "변함"], 0],
        ["신재생 에너지?", ["태양광, 풍력, 수력 (친환경)", "석탄", "석유", "가스"], 0],
        ["환경 보전?", ["에너지 절약, 친환경 생활", "낭비", "오염", "개발"], 0],
        ["전동기?", ["전기 -> 운동 에너지", "운동 -> 전기", "열 -> 빛", "빛 -> 소리"], 0],
        ["발전기?", ["운동 -> 전기 에너지", "전기 -> 운동", "소리 -> 빛", "열 -> 화학"], 0],
        ["계절별 태양?", ["여름(높음, 낮 김), 겨울(낮음, 낮 짧음)", "반대", "같음", "랜덤"], 0],
        ["화재 대처?", ["대피, 신고", "숨기", "구경", "사진"], 0],
        ["지속 가능?", ["미래를 위한 노력", "현재만 중요", "과거 회상", "포기"], 0]
    ],

// ================= [영어] (각 20문제) =================
    "3-1-영어": [
        ["'사과'를 영어로?", ["Apple", "Banana", "Grape", "Melon"], 0],
        ["'안녕하세요' 인사말?", ["Hello", "Bye", "Sorry", "No"], 0],
        ["'개'를 영어로?", ["Dog", "Cat", "Bird", "Pig"], 0],
        ["알파벳 A의 다음 글자는?", ["B", "C", "D", "E"], 0],
        ["'하나(1)'를 영어로?", ["One", "Two", "Three", "Four"], 0],
        ["'빨간색'을 영어로?", ["Red", "Blue", "Green", "Yellow"], 0],
        ["'내 이름은...' 영어로?", ["My name is...", "I am fine", "Thank you", "Good bye"], 0],
        ["'고맙습니다' 영어로?", ["Thank you", "Sorry", "Hello", "Hi"], 0],
        ["'연필'을 영어로?", ["Pencil", "Book", "Bag", "Desk"], 0],
        ["'엄마'를 영어로?", ["Mom", "Dad", "Brother", "Sister"], 0],
        ["알파벳 Z의 앞 글자는?", ["Y", "X", "W", "V"], 0],
        ["'책'을 영어로?", ["Book", "Pen", "Eraser", "Ruler"], 0],
        ["'일어서세요' 영어로?", ["Stand up", "Sit down", "Open your book", "Close your book"], 0],
        ["'앉으세요' 영어로?", ["Sit down", "Stand up", "Jump", "Run"], 0],
        ["'이것은 무엇입니까?'", ["What is this?", "Who are you?", "How are you?", "What time is it?"], 0],
        ["'물고기'를 영어로?", ["Fish", "Dog", "Cat", "Bird"], 0],
        ["'파란색'을 영어로?", ["Blue", "Red", "Black", "White"], 0],
        ["숫자 '5'를 영어로?", ["Five", "Four", "Six", "Seven"], 0],
        ["'안녕히 가세요' 영어로?", ["Good bye", "Hello", "Good morning", "Nice to meet you"], 0],
        ["'좋아' 영어로?", ["Good", "Bad", "Sad", "Angry"], 0]
    ],
    "3-2-영어": [
        ["'나는 ...를 좋아해' 영어로?", ["I like...", "I hate...", "I have...", "I am..."], 0],
        ["'피자'를 영어로?", ["Pizza", "Burger", "Chicken", "Salad"], 0],
        ["'고양이'를 영어로?", ["Cat", "Dog", "Mouse", "Cow"], 0],
        ["'행복한' 영어로?", ["Happy", "Sad", "Angry", "Tired"], 0],
        ["'몇 살이니?' 영어로?", ["How old are you?", "How are you?", "What is your name?", "Where are you?"], 0],
        ["'나는 10살이야' 영어로?", ["I am ten", "I am one", "I am five", "I am happy"], 0],
        ["'색깔'을 영어로?", ["Color", "Shape", "Size", "Number"], 0],
        ["'검은색'을 영어로?", ["Black", "White", "Red", "Blue"], 0],
        ["'크다'를 영어로?", ["Big", "Small", "Short", "Long"], 0],
        ["'작다'를 영어로?", ["Small", "Big", "Tall", "Fast"], 0],
        ["'우유'를 영어로?", ["Milk", "Water", "Juice", "Tea"], 0],
        ["'치즈'를 영어로?", ["Cheese", "Bread", "Rice", "Meat"], 0],
        ["'미안합니다' 영어로?", ["I'm sorry", "Thank you", "You're welcome", "Hello"], 0],
        ["'괜찮아요' 영어로?", ["It's okay", "No", "Yes", "Bad"], 0],
        ["'눈(신체)'을 영어로?", ["Eye", "Ear", "Nose", "Mouth"], 0],
        ["'코'를 영어로?", ["Nose", "Eye", "Hand", "Foot"], 0],
        ["'만지다'를 영어로?", ["Touch", "Look", "Listen", "Smell"], 0],
        ["'이것은 사과야'", ["It is an apple", "It is a banana", "It is a cat", "It is a dog"], 0],
        ["'저것은 공이야'", ["That is a ball", "This is a ball", "It is a doll", "Here is a ball"], 0],
        ["'가방'을 영어로?", ["Bag", "Box", "Cap", "Hat"], 0]
    ],
    "4-1-영어": [
        ["'지금 몇 시니?' 영어로?", ["What time is it?", "What day is it?", "Where are you?", "How old are you?"], 0],
        ["'학교'를 영어로?", ["School", "Home", "Park", "Store"], 0],
        ["'공원'을 영어로?", ["Park", "Zoo", "Farm", "Hospital"], 0],
        ["'가자' 영어로?", ["Let's go", "Let's play", "Let's eat", "Let's sleep"], 0],
        ["'축구하다' 영어로?", ["Play soccer", "Play baseball", "Play basketball", "Play tennis"], 0],
        ["'배고픈' 영어로?", ["Hungry", "Full", "Thirsty", "Sleepy"], 0],
        ["'물 좀 줄래?'", ["Water, please?", "No water", "I like water", "Water is good"], 0],
        ["'여기 있어'", ["Here you are", "Thank you", "Goodbye", "See you"], 0],
        ["'월요일' 영어로?", ["Monday", "Tuesday", "Sunday", "Friday"], 0],
        ["'일요일' 영어로?", ["Sunday", "Saturday", "Monday", "Wednesday"], 0],
        ["'오늘 무슨 요일이니?'", ["What day is it today?", "What time is it?", "How is the weather?", "Who are you?"], 0],
        ["'비가 와요' 영어로?", ["It's raining", "It's sunny", "It's snowing", "It's windy"], 0],
        ["'맑아요' 영어로?", ["It's sunny", "It's cloudy", "It's rainy", "It's cold"], 0],
        ["'어디에 있니?'", ["Where is it?", "What is it?", "Who is it?", "When is it?"], 0],
        ["'침대 위에' 영어로?", ["On the bed", "In the bed", "Under the bed", "By the bed"], 0],
        ["'상자 안에' 영어로?", ["In the box", "On the box", "Under the box", "Next to the box"], 0],
        ["'식탁 아래에' 영어로?", ["Under the table", "On the table", "In the table", "By the table"], 0],
        ["'엄마는 어디 계시니?'", ["Where is Mom?", "Who is Mom?", "How is Mom?", "What is Mom?"], 0],
        ["'부엌에 계셔'", ["She is in the kitchen", "She is in the bedroom", "She is in the bathroom", "She is in the living room"], 0],
        ["'거실'을 영어로?", ["Living room", "Kitchen", "Bedroom", "Bathroom"], 0]
    ],
    "4-2-영어": [
        ["'얼마인가요?' 영어로?", ["How much is it?", "How many?", "How old?", "How are you?"], 0],
        ["'500원이야'", ["It's 500 won", "It's 5 won", "It's 50 won", "It's 5000 won"], 0],
        ["'비싸다' 영어로?", ["Expensive", "Cheap", "Good", "Bad"], 0],
        ["'싸다' 영어로?", ["Cheap", "Expensive", "Big", "Small"], 0],
        ["'나는 ...을 할 수 있어'", ["I can...", "I do...", "I am...", "I have..."], 0],
        ["'수영하다' 영어로?", ["Swim", "Run", "Jump", "Fly"], 0],
        ["'노래하다' 영어로?", ["Sing", "Dance", "Read", "Write"], 0],
        ["'도와줄까?'", ["Can I help you?", "Do you help?", "I help you", "Help me"], 0],
        ["'물론이지' 영어로?", ["Sure", "No", "Sorry", "Bad"], 0],
        ["'직업'을 영어로?", ["Job", "Name", "Age", "Color"], 0],
        ["'선생님' 영어로?", ["Teacher", "Student", "Doctor", "Cook"], 0],
        ["'의사' 영어로?", ["Doctor", "Nurse", "Pilot", "Singer"], 0],
        ["'요리사' 영어로?", ["Cook", "Teacher", "Farmer", "Police officer"], 0],
        ["'이것은 누구의 것이니?'", ["Whose is this?", "What is this?", "Where is this?", "Who are you?"], 0],
        ["'내 거야'", ["It's mine", "It's yours", "It's his", "It's hers"], 0],
        ["'너의 것' 영어로?", ["Yours", "Mine", "His", "Hers"], 0],
        ["'일어나다' 영어로?", ["Get up", "Go to bed", "Wash face", "Eat breakfast"], 0],
        ["'학교에 가다' 영어로?", ["Go to school", "Go home", "Go to bed", "Go to park"], 0],
        ["'몇 시에 일어나니?'", ["What time do you get up?", "What time do you sleep?", "What time is it?", "Where do you go?"], 0],
        ["'7시에' 영어로?", ["At 7", "In 7", "On 7", "For 7"], 0]
    ],
    "5-1-영어": [
        ["'출신 국가'를 물을 때?", ["Where are you from?", "Who are you?", "How are you?", "What is your name?"], 0],
        ["'나는 한국에서 왔어'", ["I'm from Korea", "I'm Korea", "I live Korea", "My name is Korea"], 0],
        ["'미국'을 영어로?", ["America (USA)", "Canada", "UK", "Australia"], 0],
        ["'무엇을 하고 있니?' (현재진행)", ["What are you doing?", "What do you do?", "What did you do?", "What will you do?"], 0],
        ["'나는 요리하고 있어'", ["I'm cooking", "I cook", "I cooked", "I will cook"], 0],
        ["'나는 책을 읽고 있어'", ["I'm reading a book", "I read a book", "I write a book", "I buy a book"], 0],
        ["'길을 묻을 때'", ["Where is the...?", "What is the...?", "Who is the...?", "When is the...?"], 0],
        ["'오른쪽으로 도세요'", ["Turn right", "Turn left", "Go straight", "Stop"], 0],
        ["'쭉 가세요'", ["Go straight", "Turn back", "Turn left", "Turn right"], 0],
        ["'박물관' 영어로?", ["Museum", "Library", "Bank", "Post office"], 0],
        ["'우체국' 영어로?", ["Post office", "Police station", "Fire station", "School"], 0],
        ["'주말에 뭐 했니?'", ["What did you do on the weekend?", "What do you do?", "What are you doing?", "What will you do?"], 0],
        ["'나는 영화를 봤어'", ["I saw a movie", "I see a movie", "I seeing a movie", "I will see a movie"], 0],
        ["'좋은 시간 보냈어'", ["I had a good time", "I have a good time", "It is good", "See you"], 0],
        ["'먹다'의 과거형?", ["Ate", "Eat", "Eating", "Eats"], 0],
        ["'가다'의 과거형?", ["Went", "Go", "Going", "Goes"], 0],
        ["'좋아하는 과목' 묻기?", ["What's your favorite subject?", "Do you like school?", "What is this?", "Who is your teacher?"], 0],
        ["'수학'을 영어로?", ["Math", "English", "Science", "Music"], 0],
        ["'과학'을 영어로?", ["Science", "Math", "Art", "PE"], 0],
        ["'미술'을 영어로?", ["Art", "Music", "English", "History"], 0]
    ],
    "5-2-영어": [
        ["'미래 희망' 묻기?", ["What do you want to be?", "What are you?", "Who are you?", "Where are you?"], 0],
        ["'나는 비행기 조종사가 되고 싶어'", ["I want to be a pilot", "I am a pilot", "I like pilot", "Pilot is good"], 0],
        ["'왜?' 라고 물을 때?", ["Why?", "What?", "Where?", "When?"], 0],
        ["'왜냐하면...' 영어로?", ["Because...", "So...", "But...", "And..."], 0],
        ["'너는 ...해야 해' (의무)", ["You should...", "You can...", "You may...", "You will..."], 0],
        ["'일찍 자야 해'", ["You should go to bed early", "You go to bed", "Sleep now", "Don't sleep"], 0],
        ["'양치질하다' 영어로?", ["Brush your teeth", "Wash your face", "Wash your hands", "Comb your hair"], 0],
        ["'어제' 영어로?", ["Yesterday", "Today", "Tomorrow", "Now"], 0],
        ["'내일' 영어로?", ["Tomorrow", "Yesterday", "Tonight", "Last week"], 0],
        ["'비교급' 더 키가 큰?", ["Taller", "Tall", "Tallest", "More tall"], 0],
        ["'더 빠른' 영어로?", ["Faster", "Fast", "Fastest", "Slow"], 0],
        ["'가장 힘센' (최상급)?", ["Strongest", "Stronger", "Strong", "More strong"], 0],
        ["'누가 더 키가 크니?'", ["Who is taller?", "Who is tall?", "Who is tallest?", "Who are you?"], 0],
        ["'제안하기'", ["Let's...", "Do you...", "Are you...", "Can you..."], 0],
        ["'우리 축구하자'", ["Let's play soccer", "I play soccer", "You play soccer", "Play soccer"], 0],
        ["'전화 걸 때'", ["This is...", "I am...", "My name is...", "Here is..."], 0],
        ["'지수 있나요?' (전화)", ["Is Jisu there?", "Where is Jisu?", "Who is Jisu?", "I want Jisu"], 0],
        ["'기다려 주세요'", ["Hold on, please", "Stop", "Go", "Bye"], 0],
        ["'생일이 언제니?'", ["When is your birthday?", "What is your birthday?", "Where is your birthday?", "How is your birthday?"], 0],
        ["'10월 9일이야'", ["It's October 9th", "It's October 9", "October 9", "9th October"], 0]
    ],
    "6-1-영어": [
        ["'몇 학년이니?'", ["What grade are you in?", "How old are you?", "What class is it?", "Where is your school?"], 0],
        ["'나는 6학년이야'", ["I'm in the 6th grade", "I'm 6 years old", "I have 6 grades", "Grade 6"], 0],
        ["'아픈 곳' 묻기?", ["What's wrong?", "How are you?", "What do you do?", "Where do you go?"], 0],
        ["'배가 아파요'", ["I have a stomachache", "I have a headache", "I have a cold", "I am hungry"], 0],
        ["'두통' 영어로?", ["Headache", "Toothache", "Stomachache", "Cold"], 0],
        ["'약 좀 먹으렴'", ["Take some medicine", "Eat food", "Drink water", "Sleep well"], 0],
        ["'생일 축하해'", ["Happy birthday", "Good luck", "Congratulations", "Thank you"], 0],
        ["'날짜' 묻기?", ["What's the date today?", "What day is it?", "What time is it?", "When is it?"], 0],
        ["'3월 1일이야'", ["It's March 1st", "It's March 1", "March one", "1st March"], 0],
        ["'과거의 할 수 있었던 일'?", ["I could...", "I can...", "I will...", "I should..."], 0],
        ["'나는 수영할 수 있었어'", ["I could swim", "I can swim", "I swim", "I swam"], 0],
        ["'하지만 지금은 못해'", ["But now I can't", "And I can", "So I can't", "Or I can't"], 0],
        ["'장래희망' 말하기?", ["I want to be a...", "I am a...", "I like...", "I have..."], 0],
        ["'과학자' 영어로?", ["Scientist", "Artist", "Pianist", "Dentist"], 0],
        ["'화가' 영어로?", ["Painter / Artist", "Singer", "Writer", "Driver"], 0],
        ["'자주 하는 일' 빈도 묻기?", ["How often do you...?", "How do you...?", "What do you...?", "Where do you...?"], 0],
        ["'일주일에 한번'", ["Once a week", "One a week", "First a week", "Once week"], 0],
        ["'매일' 영어로?", ["Every day", "Today", "Yesterday", "Tomorrow"], 0],
        ["'아침 식사' 영어로?", ["Breakfast", "Lunch", "Dinner", "Snack"], 0],
        ["'저녁 식사' 영어로?", ["Dinner", "Lunch", "Breakfast", "Supper"], 0]
    ],
    "6-2-영어": [
        ["'외모 묘사' 묻기?", ["What does he look like?", "Who is he?", "How is he?", "Where is he?"], 0],
        ["'그는 키가 크고 눈이 파래'", ["He is tall and has blue eyes", "He is short", "He has blue eyes", "He is big"], 0],
        ["'긴 머리' 영어로?", ["Long hair", "Short hair", "Curly hair", "Straight hair"], 0],
        ["'곱슬머리' 영어로?", ["Curly hair", "Straight hair", "Long hair", "Blond hair"], 0],
        ["'입고 있다' (현재 진행)", ["Wearing", "Wear", "Wears", "Wore"], 0],
        ["'그녀는 빨간 모자를 쓰고 있어'", ["She is wearing a red cap", "She wears a red cap", "She has a red cap", "Red cap"], 0],
        ["'허락 구하기'", ["May I...?", "Can you...?", "Do you...?", "Are you...?"], 0],
        ["'화장실 가도 되나요?'", ["May I go to the restroom?", "Where is the restroom?", "I go to restroom", "Restroom please"], 0],
        ["'물론이지'", ["Of course / Sure", "No", "Sorry", "Bad"], 0],
        ["'이해했니?' 확인", ["Do you understand?", "What is it?", "Who knows?", "Can you?"], 0],
        ["'미래 계획' (will)", ["I will...", "I do...", "I did...", "I am..."], 0],
        ["'나는 캠핑 갈 거야'", ["I will go camping", "I go camping", "I went camping", "I going camping"], 0],
        ["'이번 여름에'", ["This summer", "Last summer", "Next summer", "Summer"], 0],
        ["'비교하기' (최상급)", ["The strongest", "Stronger", "Strong", "More strong"], 0],
        ["'가장 빠른 동물은 뭐야?'", ["What is the fastest animal?", "Who is fast?", "Where is animal?", "How fast?"], 0],
        ["'치타가 가장 빨라'", ["The cheetah is the fastest", "Cheetah is fast", "Cheetah is faster", "Fast cheetah"], 0],
        ["'길 안내'", ["Go straight and turn left", "Go back", "Stop here", "Run"], 0],
        ["'박물관은 병원 옆에 있어'", ["The museum is next to the hospital", "The museum is in the hospital", "The museum is on the hospital", "Museum hospital"], 0],
        ["'건너편에' 영어로?", ["Across from", "Next to", "Behind", "In front of"], 0],
        ["'즐거운 주말 보내'", ["Have a nice weekend", "Good weekend", "Nice weekend", "Weekend"], 0]
    ]
};

const subjects = ["국어", "수학", "사회", "과학", "영어"];

function generateProblemBank(grade, semester) {
    const bank = { "국어": [], "수학": [], "사회": [], "과학": [], "영어": [] };
    
    // 과목별로 staticDB에서 데이터를 가져와서 섞어 넣음
    subjects.forEach(sub => {
        let key = "";
        // 모든 과목에 대해 학년-학기-과목 키 사용
        key = `${grade}-${semester}-${sub}`;

        // 해당 키가 없으면 기본적으로 3-1 데이터 등을 사용하거나 빈 배열 방지 (오류 방지용)
        let src = staticDB[key];
        
        // 만약 해당 학년/학기 데이터가 없으면 (예: 데이터 누락 등) 가장 첫 데이터(3-1)라도 가져오도록 안전장치
        if (!src && staticDB[`3-1-${sub}`]) src = staticDB[`3-1-${sub}`];

        if (src) {
            // 문제 순서 섞기 (매 게임마다 다르게)
            const shuffledSrc = [...src].sort(() => Math.random() - 0.5);
            
            // 최대 20문제 가져오기
            const count = Math.min(shuffledSrc.length, 20);
            
            for(let i=0; i<count; i++) {
                const qData = shuffledSrc[i];
                const qText = qData[0];
                const correctText = qData[1][qData[2]]; // 원본 데이터에서 정답 텍스트 추출
                let options = [...qData[1]]; // 보기 복사
                
                // 보기 순서 섞기 (정답 위치 랜덤화)
                options.sort(() => Math.random() - 0.5);
                
                // 섞인 보기에서 정답 인덱스 다시 찾기
                const newAnsIndex = options.indexOf(correctText);

                bank[sub].push({
                    q: qText,
                    o: options,
                    a: newAnsIndex
                });
            }
        }
    });

    return bank;
}

        // --------------------------------------------------------------------------------------
        // [여기까지] question_bank_generator.js 내용으로 덮어쓰기 끝
        // 아래부터는 게임 핵심 로직이므로 건드리지 않아도 됩니다.
        // --------------------------------------------------------------------------------------

        // --- 오디오 시스템 ---
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        let bgmInterval;
        
        function playTone(freq, type, duration, vol = 0.1) {
            if(audioCtx.state === 'suspended') audioCtx.resume();
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.type = type;
            osc.frequency.setValueAtTime(freq, audioCtx.currentTime);
            gain.gain.setValueAtTime(vol, audioCtx.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + duration);
            osc.connect(gain);
            gain.connect(audioCtx.destination);
            osc.start();
            osc.stop(audioCtx.currentTime + duration);
        }

        function playBGM() {
            if(bgmInterval) clearInterval(bgmInterval);
            
            if (isHardMode) {
                bgmInterval = setInterval(() => {
                    if(gameState !== 'PLAYING') return;
                    const notes = [100, 110, 120, 200, 210, 220]; 
                    playTone(notes[Math.floor(Math.random() * notes.length)], 'sawtooth', 0.5, 0.2);
                    if(Math.random() < 0.3) playTone(Math.random()*800, 'square', 0.1, 0.05); 
                }, 300);
            } else {
                bgmInterval = setInterval(() => {
                    if(gameState !== 'PLAYING') return;
                    const notes = [523, 587, 659, 698, 783, 880, 987];
                    playTone(notes[Math.floor(Math.random() * notes.length)], 'sine', 1.5, 0.1);
                    if(Math.random() < 0.1) playTone(notes[0]-100, 'sawtooth', 2.0, 0.05);
                }, 800);
            }
        }

        function playScream() {
            playTone(800, 'sawtooth', 0.5, 0.5);
            setTimeout(() => playTone(700, 'sawtooth', 0.5, 0.5), 100);
            setTimeout(() => playTone(600, 'sawtooth', 1.0, 0.5), 200);
        }

        function playSpikeSound() {
            playTone(400, 'square', 0.1, 0.3);
            playTone(300, 'square', 0.1, 0.3);
        }

        // --- 전역 변수 ---
        let scene, camera, renderer, world;
        let controls;
        let playerBody, enemyBody;
        let gameState = 'START';
        let hintsCollected = 0;
        const TARGET_HINTS = 10; 
        let timer = 300; 
        let quizBoxes = [];
        let doorMesh = null;
        let currentRoomQuizDeck = [];
        let activeQuizBox = null;
        let isHardMode = false;
        
        let selectedGrade = 6;
        let selectedSemester = 2;
        let generatedBank = {};
        
        let roomOrder = [];
        let currentSubjectIndex = 0;

        let playerSpeed = 25.0; 
        let enemySpeed = 12.0; 

        let enemyMesh;
        let spikes = []; 

        const raycaster = new THREE.Raycaster();
        const center = new THREE.Vector2(0, 0);

        // --- 초기화 ---
        const startBtn = document.getElementById('btn-init');
        startBtn.addEventListener('click', () => {
            selectedGrade = parseInt(document.getElementById('grade-select').value);
            selectedSemester = parseInt(document.getElementById('semester-select').value);
            
            generatedBank = generateProblemBank(selectedGrade, selectedSemester);

            document.getElementById('start-screen').style.display = 'none';
            initGame();
        });

        window.restartGame = (hardMode) => {
            document.getElementById('gameover-screen').style.display = 'none';
            isHardMode = hardMode;
            
            if(isHardMode) {
                enemySpeed = 18.0; 
                timer = 200; 
            } else {
                enemySpeed = 12.0;
                timer = 300;
            }

            while(scene.children.length > 0){ scene.remove(scene.children[0]); }
            world.bodies = [];
            initGame();
        };

        function shuffle(array) { return array.sort(() => Math.random() - 0.5); }

        function initGame() {
            roomOrder = shuffle([...subjects]);
            currentSubjectIndex = 0;
            hintsCollected = 0;
            document.getElementById('hint-count').innerText = `0`;
            
            initThree();
            initPhysics();
            loadRoom(roomOrder[currentSubjectIndex]);
            
            gameState = 'PLAYING';
            playBGM();
            animate();
            
            if(window.gameTimer) clearInterval(window.gameTimer);
            window.gameTimer = setInterval(() => {
                if(gameState === 'PLAYING') {
                    timer--;
                    const m = Math.floor(timer / 60).toString().padStart(2, '0');
                    const s = (timer % 60).toString().padStart(2, '0');
                    document.getElementById('timer-box').innerText = `${m}:${s}`;
                    if(timer <= 0) gameOver("시간이 초과되었습니다...");
                }
            }, 1000);
        }

        function initThree() {
            scene = new THREE.Scene();
            
            if (isHardMode) {
                scene.background = new THREE.Color(0x000000); 
                scene.fog = new THREE.FogExp2(0x220000, 0.05); 
            } else {
                scene.background = new THREE.Color(0x100505); 
                scene.fog = new THREE.FogExp2(0x100505, 0.025); 
            }

            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 100);
            
            renderer = new THREE.WebGLRenderer({ antialias: false });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.shadowMap.enabled = true;
            if (document.querySelector('canvas')) document.body.removeChild(document.querySelector('canvas'));
            document.body.appendChild(renderer.domElement);

            const flashlight = new THREE.SpotLight(0xffffff, isHardMode ? 2.5 : 4); 
            flashlight.angle = Math.PI / 2.5; 
            flashlight.penumbra = 0.5;
            flashlight.decay = 1; 
            flashlight.distance = isHardMode ? 30 : 80; 
            flashlight.castShadow = true;
            camera.add(flashlight);
            flashlight.target = camera; 
            scene.add(camera);

            const ambient = new THREE.AmbientLight(0xffaa88, isHardMode ? 0.3 : 0.8);
            scene.add(ambient);
        }

        function initPhysics() {
            world = new CANNON.World();
            world.gravity.set(0, -30, 0); 
            
            const defMat = new CANNON.Material();
            const contact = new CANNON.ContactMaterial(defMat, defMat, { friction: 0.0, restitution: 0.0 });
            world.addContactMaterial(contact);

            const shape = new CANNON.Sphere(1.5); 
            playerBody = new CANNON.Body({ mass: 70, shape: shape, material: defMat, fixedRotation: true, linearDamping: 0.9 });
            playerBody.position.set(0, 5, 0);
            world.addBody(playerBody);

            playerBody.addEventListener('collide', (e) => {
                const normal = new CANNON.Vec3();
                e.contact.ni.negate(normal);
                if(normal.dot(new CANNON.Vec3(0,1,0)) > 0.5) canJump = true;
            });

            const eShape = new CANNON.Cylinder(1, 1, 3, 8);
            enemyBody = new CANNON.Body({ mass: 100, shape: eShape, material: defMat, fixedRotation: true, linearDamping: 0.9 });
            enemyBody.position.set(0, -100, 0); 
            world.addBody(enemyBody);

            const eGeo = new THREE.CapsuleGeometry(1, 3, 4, 8);
            const eMat = new THREE.MeshStandardMaterial({ color: 0x000000, roughness: 0.1 }); 
            enemyMesh = new THREE.Mesh(eGeo, eMat);
            
            const eyeGeo = new THREE.SphereGeometry(0.3);
            const eyeMat = new THREE.MeshBasicMaterial({ color: 0xff0000 });
            const eye1 = new THREE.Mesh(eyeGeo, eyeMat);
            eye1.position.set(-0.4, 1, 0.8);
            const eye2 = new THREE.Mesh(eyeGeo, eyeMat);
            eye2.position.set(0.4, 1, 0.8);
            enemyMesh.add(eye1);
            enemyMesh.add(eye2);
            
            scene.add(enemyMesh);

            controls = new PointerLockControls(camera, document.body);
            
            document.body.addEventListener('click', () => {
                const modal = document.getElementById('quiz-modal');
                const goScreen = document.getElementById('gameover-screen');
                const startScreen = document.getElementById('start-screen');
                
                if(gameState === 'PLAYING' && modal.style.display !== 'block' && goScreen.style.display !== 'flex' && startScreen.style.display !== 'flex') {
                    controls.lock();
                    checkInteraction(true);
                }
            });
        }

        function loadRoom(subjectName) {
            document.getElementById('room-name').innerText = `${selectedGrade}-${selectedSemester} ${subjectName}` + (isHardMode ? " (지옥)" : "");
            document.getElementById('hint-count').innerText = `0`;
            hintsCollected = 0;
            
            currentRoomQuizDeck = shuffle([...generatedBank[subjectName]]);
            quizBoxes = [];
            spikes = []; 

            playerBody.position.set(0, 5, 0);
            playerBody.velocity.set(0,0,0);
            
            enemyBody.position.set(40, 5, 40);
            enemyBody.velocity.set(0,0,0);

            createEnvironment();
        }

        function createEnvironment() {
            woodTexture.repeat.set(20, 20);
            const floorGeo = new THREE.PlaneGeometry(100, 100);
            const floorMat = new THREE.MeshStandardMaterial({ map: woodTexture });
            const floor = new THREE.Mesh(floorGeo, floorMat);
            floor.rotation.x = -Math.PI / 2;
            scene.add(floor);
            
            ceilingTexture.repeat.set(10, 10);
            const ceilGeo = new THREE.PlaneGeometry(100, 100);
            const ceilMat = new THREE.MeshStandardMaterial({ map: ceilingTexture, color: 0x888888 });
            const ceil = new THREE.Mesh(ceilGeo, ceilMat);
            ceil.rotation.x = Math.PI / 2;
            ceil.position.y = 15; 
            scene.add(ceil);

            const floorBody = new CANNON.Body({ mass: 0, shape: new CANNON.Plane() });
            floorBody.quaternion.setFromEuler(-Math.PI/2, 0, 0);
            world.addBody(floorBody);

            for(let i=0; i<40; i++) { 
                const x = (Math.random()-0.5) * 80;
                const z = (Math.random()-0.5) * 80;
                if(Math.abs(x) < 5 && Math.abs(z) < 5) continue;
                createBox(x, 7.5, z, 3, 15, 3, 0x5d4037, true, true); 
            }

            for(let i=0; i<15; i++) {
                const x = (Math.random()-0.5) * 70; 
                const z = (Math.random()-0.5) * 70;
                if(Math.abs(x) < 10 && Math.abs(z) < 10) continue;
                
                const mesh = createBox(x, 2, z, 1.5, 1.5, 1.5, 0xffd700, false, false);
                mesh.material.emissive = new THREE.Color(0x333300);
                mesh.userData = { type: 'quiz', id: i };
                quizBoxes.push(mesh);
            }

            const doorGeo = new THREE.BoxGeometry(8, 10, 1);
            const doorMat = new THREE.MeshStandardMaterial({ color: 0x3e2723 });
            doorMesh = new THREE.Mesh(doorGeo, doorMat);
            doorMesh.position.set(0, 5, -45);
            doorMesh.userData = { type: 'door' };
            scene.add(doorMesh);
            
            const doorBody = new CANNON.Body({ mass: 0, shape: new CANNON.Box(new CANNON.Vec3(4, 5, 0.5)) });
            doorBody.position.set(0, 5, -45);
            world.addBody(doorBody);
        }

        function createBox(x, y, z, w, h, d, color, isStatic, useTexture) {
            const geo = new THREE.BoxGeometry(w, h, d);
            const mat = new THREE.MeshStandardMaterial({ 
                color: color, 
                map: useTexture ? woodTexture : null 
            });
            const mesh = new THREE.Mesh(geo, mat);
            mesh.position.set(x, y, z);
            mesh.castShadow = true;
            mesh.receiveShadow = true;
            scene.add(mesh);

            const body = new CANNON.Body({
                mass: isStatic ? 0 : 1,
                shape: new CANNON.Box(new CANNON.Vec3(w/2, h/2, d/2)),
                position: new CANNON.Vec3(x, y, z)
            });
            world.addBody(body);
            return mesh;
        }

        const keyState = {};
        let canJump = false;
        document.addEventListener('keydown', (e) => keyState[e.code] = true);
        document.addEventListener('keyup', (e) => keyState[e.code] = false);

        function checkInteraction(isClick) {
            if (!camera) return;
            raycaster.setFromCamera(center, camera);
            const intersects = raycaster.intersectObjects(scene.children);
            
            const msg = document.getElementById('interact-msg');
            let found = false;

            for(let hit of intersects) {
                if(hit.distance > 8) continue; 

                if(hit.object.userData.type === 'quiz') {
                    found = true;
                    msg.innerText = "[클릭] 힌트 얻기";
                    msg.style.display = 'block';
                    if(isClick) openQuiz(hit.object);
                    break;
                } else if (hit.object.userData.type === 'door') {
                    found = true;
                    if(hintsCollected >= TARGET_HINTS) {
                        msg.innerText = "[클릭] 다음 방으로 탈출";
                        msg.style.color = "#00ff00";
                    } else {
                        msg.innerText = `잠겨있음 (${hintsCollected}/${TARGET_HINTS})`;
                        msg.style.color = "#ff0000";
                    }
                    msg.style.display = 'block';
                    if(isClick && hintsCollected >= TARGET_HINTS) nextLevel();
                    break;
                }
            }
            if(!found) msg.style.display = 'none';
        }

        function openQuiz(boxMesh) {
            activeQuizBox = boxMesh;
            const q = currentRoomQuizDeck.pop(); 
            if(!q) return; 

            document.getElementById('quiz-subject').innerText = `[${subjects[currentSubjectIndex]}] 문제`;
            document.getElementById('quiz-text').innerText = q.q;
            
            const optsDiv = document.getElementById('quiz-options');
            optsDiv.innerHTML = '';
            q.o.forEach((opt, idx) => {
                const btn = document.createElement('button');
                btn.className = 'quiz-btn';
                btn.innerText = `${idx+1}. ${opt}`;
                btn.onclick = () => solveQuiz(idx === q.a);
                optsDiv.appendChild(btn);
            });

            controls.unlock();
            document.getElementById('quiz-modal').style.display = 'block';
        }

        function solveQuiz(isCorrect) {
            document.getElementById('quiz-modal').style.display = 'none';
            controls.lock(); 

            if(isCorrect) {
                hintsCollected++;
                document.getElementById('hint-count').innerText = hintsCollected;
                playTone(600, 'sine', 0.2); 
                
                scene.remove(activeQuizBox);
                activeQuizBox.visible = false; 
                activeQuizBox.userData.type = 'solved';
                
                if(hintsCollected >= TARGET_HINTS) {
                    doorMesh.material.color.set(0x00ff00);
                    playTone(800, 'sine', 0.5); 
                }
            } else {
                playTone(100, 'sawtooth', 0.5); 
                // 틀린 문제는 다시 덱으로 (단, 생성기 함수를 호출할 수 없으므로 현재 덱 맨 뒤로 보냄)
                currentRoomQuizDeck.unshift(currentRoomQuizDeck[Math.floor(Math.random()*currentRoomQuizDeck.length)]); 
            }
        }

        function nextLevel() {
            currentSubjectIndex++;
            if(currentSubjectIndex >= subjects.length) {
                gameOver("축하합니다! 모든 악몽에서 탈출했습니다!", true);
            } else {
                while(scene.children.length > 0){ scene.remove(scene.children[0]); }
                initThree(); 
                loadRoom(roomOrder[currentSubjectIndex]);
                world.bodies = []; 
                initPhysics(); 
                loadRoom(roomOrder[currentSubjectIndex]); 
                timer += 180; 
            }
        }

        const clock = new THREE.Clock();

        function animate() {
            if(gameState !== 'PLAYING') return;
            requestAnimationFrame(animate);

            const dt = clock.getDelta();
            
            if (world) world.step(1/60, dt, 3);

            if(controls.isLocked) {
                const direction = new THREE.Vector3();
                camera.getWorldDirection(direction);
                direction.y = 0; 
                direction.normalize();

                const side = new THREE.Vector3();
                side.crossVectors(camera.up, direction).normalize(); 

                const inputVelocity = new THREE.Vector3();

                if(keyState['KeyW']) inputVelocity.add(direction); 
                if(keyState['KeyS']) inputVelocity.sub(direction); 
                if(keyState['KeyA']) inputVelocity.add(side);      
                if(keyState['KeyD']) inputVelocity.sub(side);      

                if (inputVelocity.length() > 0) inputVelocity.normalize();

                playerBody.velocity.x = inputVelocity.x * playerSpeed;
                playerBody.velocity.z = inputVelocity.z * playerSpeed;

                if(keyState['Space'] && canJump) {
                    playerBody.velocity.y = 15; 
                    canJump = false;
                }
                
                checkInteraction(false);
            } else {
                playerBody.velocity.x = 0;
                playerBody.velocity.z = 0;
            }

            if(camera) {
                camera.position.copy(playerBody.position);
                camera.position.y += 0.5;
            }

            updateEnemy(dt);
            updateSpikes(dt);

            if(enemyMesh && enemyBody) {
                enemyMesh.position.copy(enemyBody.position);
                enemyMesh.lookAt(playerBody.position.x, playerBody.position.y, playerBody.position.z);
            }

            if(renderer && scene && camera) renderer.render(scene, camera);
        }

        let attackCooldown = 0;

        function updateEnemy(dt) {
            const dir = new THREE.Vector3().subVectors(playerBody.position, enemyBody.position);
            const dist = dir.length();
            
            if(dist < 4.0) {
                gameOver("검은 형체에게 잡혔습니다...");
                return;
            }

            if (dist < 15.0 && attackCooldown <= 0) {
                shootSpikes();
                attackCooldown = 3.0; 
            }
            if (attackCooldown > 0) attackCooldown -= dt;

            dir.normalize();
            
            enemyBody.velocity.x = dir.x * enemySpeed;
            enemyBody.velocity.z = dir.z * enemySpeed;

            if(playerBody.position.y > enemyBody.position.y + 2 || Math.random() < 0.01) {
                if(Math.abs(enemyBody.velocity.y) < 0.1) {
                    enemyBody.velocity.y = 10;
                }
            }
        }

        function shootSpikes() {
            playSpikeSound();
            const spikeCount = 12;
            for(let i=0; i<spikeCount; i++) {
                const angle = (i / spikeCount) * Math.PI * 2;
                const dx = Math.cos(angle);
                const dz = Math.sin(angle);
                
                const geo = new THREE.ConeGeometry(0.2, 2, 8);
                geo.rotateX(Math.PI / 2); 
                const mat = new THREE.MeshBasicMaterial({ color: 0xff0000 });
                const mesh = new THREE.Mesh(geo, mat);
                
                mesh.position.copy(enemyBody.position);
                mesh.position.y += 1; 
                mesh.lookAt(mesh.position.x + dx, mesh.position.y, mesh.position.z + dz);
                
                scene.add(mesh);
                spikes.push({ mesh: mesh, dir: new THREE.Vector3(dx, 0, dz), life: 30.0, speed: 20.0 }); 
            }
        }

        function updateSpikes(dt) {
            for (let i = spikes.length - 1; i >= 0; i--) {
                const s = spikes[i];
                const moveDist = s.speed * dt;
                s.mesh.position.x += s.dir.x * moveDist;
                s.mesh.position.z += s.dir.z * moveDist;
                s.life -= moveDist; 

                const pDist = s.mesh.position.distanceTo(playerBody.position);
                if (pDist < 1.5) { 
                    gameOver("붉은 가시에 찔렸습니다...");
                    return;
                }

                if (s.life <= 0) {
                    scene.remove(s.mesh);
                    spikes.splice(i, 1);
                }
            }
        }

        function gameOver(msg, isClear = false) {
            gameState = isClear ? 'CLEAR' : 'GAMEOVER';
            document.getElementById('gameover-screen').style.display = 'flex';
            document.getElementById('gameover-msg').innerText = isClear ? "ESCAPE!" : "GAME OVER";
            document.getElementById('gameover-msg').style.color = isClear ? "#00ff00" : "red";
            document.getElementById('death-reason').innerText = msg;
            
            const btnGroup = document.querySelector('.btn-group');
            if (isClear) btnGroup.style.display = 'none'; 
            else btnGroup.style.display = 'flex';

            if(!isClear) playScream();
            
            controls.unlock();
        }

        window.addEventListener('resize', () => {
            if (!camera || !renderer) return; 
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });
    </script>
</body>
</html>